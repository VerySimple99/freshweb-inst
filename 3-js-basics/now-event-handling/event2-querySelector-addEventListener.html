<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>querySelector + addEventListener ì˜ˆì œ</title>
</head>
<body>

<h2>querySelector + addEventListener ì¡°í•© ì˜ˆì œ</h2>

<!-- ID ì„ íƒì ì˜ˆì œ -->
<div>
    <label>ì´ë¦„: </label>
    <input type="text" id="userName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
    <span id="nameResult"></span>
</div>
<br>

<!-- í´ë˜ìŠ¤ ì„ íƒì ì˜ˆì œ -->
<div>
    <button class="colorBtn">ë¹¨ê°•</button>
    <button class="colorBtn">íŒŒë‘</button>
    <button class="colorBtn">ì´ˆë¡</button>
    <div class="colorDisplay">ìƒ‰ìƒì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>
</div>
<br>

<!-- ì†ì„± ì„ íƒì ì˜ˆì œ -->
<form>
    <input type="text" placeholder="ì‚¬ìš©ìëª…">
    <input type="password" placeholder="ë¹„ë°€ë²ˆí˜¸">
    <button type="submit">ë¡œê·¸ì¸</button>
    <button type="reset">ì´ˆê¸°í™”</button>
</form>
<br>

<div id="output">ì´ë²¤íŠ¸ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤</div>

<script type="text/javascript">

/* ===== 1. ID ì„ íƒì (#id) ì‚¬ìš© ì˜ˆì œ ===== */

// getElementById vs querySelector ë¹„êµ
// const userNameInput = document.getElementById("userName");     // êµ¬ì‹ ë°©ë²•
const userNameInput = document.querySelector("#userName");        // í˜„ëŒ€ì  ë°©ë²• (ê¶Œì¥)
const nameResult = document.querySelector("#nameResult");         // ID ì„ íƒì ì‚¬ìš©

// ì…ë ¥ë€ì— í…ìŠ¤íŠ¸ ì…ë ¥í•  ë•Œë§ˆë‹¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì‘í•˜ëŠ” ì´ë²¤íŠ¸
// addEventListenerì˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜: ì´ë²¤íŠ¸ íƒ€ì…
// addEventListenerì˜ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜
userNameInput.addEventListener('input', function(event) {
    // event.target: ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ DOM ìš”ì†Œ (ì—¬ê¸°ì„œëŠ” input ìš”ì†Œ)
    // event.target.value: ì…ë ¥ë€ì— ì…ë ¥ëœ í˜„ì¬ ê°’
    const inputValue = event.target.value;
    
    // ì…ë ¥ëœ ê°’ì˜ ê¸¸ì´ì— ë”°ë¼ ë‹¤ë¥¸ ë©”ì‹œì§€ í‘œì‹œ
    if (inputValue.length > 0) {
        nameResult.textContent = ` ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”, ${inputValue}ë‹˜!`;
        nameResult.style.color = 'blue';
    } else {
        nameResult.textContent = '';
    }
    
    console.log('ì…ë ¥ëœ ê°’:', inputValue);
});

// í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸ ì¶”ê°€ (ì…ë ¥ë€ í´ë¦­ ì‹œ)
userNameInput.addEventListener('focus', function(event) {
    event.target.style.backgroundColor = '#f0f8ff';
    console.log('ì´ë¦„ ì…ë ¥ë€ì— í¬ì»¤ìŠ¤');
});

// ë¸”ëŸ¬ ì´ë²¤íŠ¸ ì¶”ê°€ (ì…ë ¥ë€ì—ì„œ í¬ì»¤ìŠ¤ ìƒì„ ì‹œ)
userNameInput.addEventListener('blur', function(event) {
    event.target.style.backgroundColor = '';
    console.log('ì´ë¦„ ì…ë ¥ë€ì—ì„œ í¬ì»¤ìŠ¤ í•´ì œ');
});


/* ===== 2. í´ë˜ìŠ¤ ì„ íƒì (.class) ì‚¬ìš© ì˜ˆì œ ===== */

// querySelectorAll: ê°™ì€ í´ë˜ìŠ¤ë¥¼ ê°€ì§„ ëª¨ë“  ìš”ì†Œë¥¼ ì„ íƒ
// ê²°ê³¼ëŠ” NodeList (ë°°ì—´ê³¼ ìœ ì‚¬í•œ ê°ì²´)ë¡œ ë°˜í™˜ë¨
const colorButtons = document.querySelectorAll(".colorBtn");      // í´ë˜ìŠ¤ ì„ íƒì
const colorDisplay = document.querySelector(".colorDisplay");     // í´ë˜ìŠ¤ ì„ íƒì

// forEachë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ë²„íŠ¼ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
// NodeListëŠ” forEach ë©”ì„œë“œë¥¼ ì§€ì›í•¨ (ë°°ì—´ì˜ ë©”ì„œë“œì™€ ë™ì¼)
colorButtons.forEach(function(button, index) {
    // button: í˜„ì¬ ì²˜ë¦¬ì¤‘ì¸ ë²„íŠ¼ ìš”ì†Œ
    // index: ë°°ì—´ì—ì„œì˜ ìˆœì„œ (0, 1, 2...)
    
    button.addEventListener('click', function(event) {
        // event.target.textContent: í´ë¦­ëœ ë²„íŠ¼ì˜ í…ìŠ¤íŠ¸ ë‚´ìš©
        const colorName = event.target.textContent;
        
        // ìƒ‰ìƒëª…ì— ë”°ë¼ ë°°ê²½ìƒ‰ ë³€ê²½
        let backgroundColor = '';
        switch(colorName) {
            case 'ë¹¨ê°•':
                backgroundColor = '#ffebee';
                break;
            case 'íŒŒë‘':
                backgroundColor = '#e3f2fd';
                break;
            case 'ì´ˆë¡':
                backgroundColor = '#e8f5e8';
                break;
        }
        
        // ì„ íƒëœ ìƒ‰ìƒì„ í™”ë©´ì— í‘œì‹œ
        colorDisplay.textContent = `ì„ íƒëœ ìƒ‰ìƒ: ${colorName}`;
        colorDisplay.style.backgroundColor = backgroundColor;
        colorDisplay.style.padding = '10px';
        colorDisplay.style.borderRadius = '5px';
        
        console.log(`${index + 1}ë²ˆì§¸ ë²„íŠ¼ í´ë¦­ë¨: ${colorName}`);
    });
    
    // ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì´ë²¤íŠ¸ ì¶”ê°€ (ë²„íŠ¼ì— ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ)
    button.addEventListener('mouseover', function(event) {
        event.target.style.transform = 'scale(1.1)';
        event.target.style.transition = 'transform 0.2s';
    });
    
    // ë§ˆìš°ìŠ¤ ì•„ì›ƒ ì´ë²¤íŠ¸ ì¶”ê°€ (ë²„íŠ¼ì—ì„œ ë§ˆìš°ìŠ¤ ë²—ì–´ë‚¬ì„ ë•Œ)
    button.addEventListener('mouseout', function(event) {
        event.target.style.transform = 'scale(1)';
    });
});


/* ===== 3. ì†ì„± ì„ íƒì ([attribute]) ì‚¬ìš© ì˜ˆì œ ===== */

// ì†ì„± ì„ íƒì: íŠ¹ì • ì†ì„±ê°’ì„ ê°€ì§„ ìš”ì†Œë¥¼ ì„ íƒ
// type="submit" ì†ì„±ì„ ê°€ì§„ button ìš”ì†Œ ì„ íƒ
const submitButton = document.querySelector("button[type='submit']");   // ì†ì„± ì„ íƒì
const resetButton = document.querySelector("button[type='reset']");     // ì†ì„± ì„ íƒì
const formElement = document.querySelector("form");                     // íƒœê·¸ ì„ íƒì
const outputDiv = document.querySelector("#output");                    // ID ì„ íƒì

// í¼ ì œì¶œ ì´ë²¤íŠ¸ ì²˜ë¦¬
submitButton.addEventListener('click', function(event) {
    // event.preventDefault(): ê¸°ë³¸ ë™ì‘(í¼ ì œì¶œ)ì„ ë§‰ìŒ
    // ì´ë¥¼ í†µí•´ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì²˜ë¦¬ ê°€ëŠ¥
    event.preventDefault();
    
    // í¼ ë‚´ì˜ ëª¨ë“  input ìš”ì†Œ ì„ íƒ
    // input[type="text"]: typeì´ textì¸ inputë§Œ ì„ íƒ
    const textInputs = document.querySelectorAll("input[type='text']");
    const passwordInputs = document.querySelectorAll("input[type='password']");
    
    // ì…ë ¥ê°’ ìˆ˜ì§‘
    let formData = {};
    textInputs.forEach(function(input, index) {
        formData[`text${index}`] = input.value;
    });
    passwordInputs.forEach(function(input, index) {
        formData[`password${index}`] = input.value;
    });
    
    // ê²°ê³¼ í‘œì‹œ
    outputDiv.innerHTML = `
        <h3>í¼ ì œì¶œ ì •ë³´:</h3>
        <p>ì‚¬ìš©ìëª…: ${formData.text0 || 'ì…ë ¥ë˜ì§€ ì•ŠìŒ'}</p>
        <p>ë¹„ë°€ë²ˆí˜¸: ${formData.password0 ? '***ì…ë ¥ë¨***' : 'ì…ë ¥ë˜ì§€ ì•ŠìŒ'}</p>
        <p>ì œì¶œ ì‹œê°„: ${new Date().toLocaleString()}</p>
    `;
    outputDiv.style.backgroundColor = '#e8f5e8';
    outputDiv.style.padding = '15px';
    outputDiv.style.borderRadius = '5px';
    
    console.log('í¼ ì œì¶œ ë°ì´í„°:', formData);
});

// ì´ˆê¸°í™” ë²„íŠ¼ ì´ë²¤íŠ¸ ì²˜ë¦¬
resetButton.addEventListener('click', function(event) {
    // ì´ˆê¸°í™” ë²„íŠ¼ì˜ ê¸°ë³¸ ë™ì‘ì€ ìœ ì§€ (í¼ ì´ˆê¸°í™”)
    // ë‹¨, ì¶”ê°€ì ì¸ ì‘ì—… ìˆ˜í–‰
    
    setTimeout(function() {
        // setTimeout: í¼ì´ ì´ˆê¸°í™”ëœ í›„ ì‹¤í–‰ë˜ë„ë¡ ì•½ê°„ì˜ ì§€ì—°
        outputDiv.innerHTML = 'í¼ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.';
        outputDiv.style.backgroundColor = '#fff3cd';
        outputDiv.style.padding = '15px';
        outputDiv.style.borderRadius = '5px';
        
        console.log('í¼ì´ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }, 10);
});


/* ===== 4. ë³µí•© ì„ íƒì í™œìš© ì˜ˆì œ ===== */

// ì²« ë²ˆì§¸ input ìš”ì†Œì—ë§Œ íŠ¹ë³„í•œ ì´ë²¤íŠ¸ ì¶”ê°€
const firstInput = document.querySelector("input:first-of-type");

firstInput.addEventListener('keydown', function(event) {
    // íŠ¹ì • í‚¤ ì¡°í•© ê°ì§€ (Ctrl + Enter)
    if (event.ctrlKey && event.key === 'Enter') {
        event.preventDefault();
        outputDiv.innerHTML = 'ğŸš€ Ctrl + Enter ë‹¨ì¶•í‚¤ê°€ ëˆŒë ¸ìŠµë‹ˆë‹¤!';
        outputDiv.style.backgroundColor = '#d4edda';
        outputDiv.style.padding = '15px';
        outputDiv.style.borderRadius = '5px';
        
        console.log('Ctrl + Enter ë‹¨ì¶•í‚¤ ê°ì§€');
    }
});


/* ===== querySelectorì˜ ì¥ì  ì •ë¦¬ ===== */

/*
1. í†µì¼ëœ ì„ íƒì ë¬¸ë²•:
   - CSS ì„ íƒìì™€ ë™ì¼í•œ ë¬¸ë²• ì‚¬ìš©
   - jQueryì™€ ìœ ì‚¬í•œ ì„ íƒì íŒ¨í„´
   - ë‹¤ì–‘í•œ ì„ íƒì ì¡°í•© ê°€ëŠ¥

2. ìœ ì—°ì„±:
   - ID: document.querySelector("#myId")
   - í´ë˜ìŠ¤: document.querySelector(".myClass")
   - ì†ì„±: document.querySelector("input[type='text']")
   - ê°€ìƒì„ íƒì: document.querySelector("div:first-child")
   - ë³µí•©: document.querySelector("form input:not([type='hidden'])")

3. ì¼ê´€ì„±:
   - ëª¨ë“  ì„ íƒìë¥¼ querySelector/querySelectorAllë¡œ í†µì¼
   - ì½”ë“œì˜ ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

4. ë¦¬ì•¡íŠ¸ ì—°ê³„:
   - CSS ëª¨ë“ˆ, styled-componentsì™€ ìœ ì‚¬í•œ ì„ íƒì íŒ¨í„´
   - ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ê°œë°œì— ì í•©í•œ ì‚¬ê³ ë°©ì‹

5. ì„±ëŠ¥:
   - getElementByIdë³´ë‹¤ ë¯¸ì„¸í•˜ê²Œ ëŠë¦¬ì§€ë§Œ ì‹¤ë¬´ì—ì„œëŠ” ë¬´ì‹œí•  ìˆ˜ì¤€
   - ìœ ì—°ì„±ê³¼ ì½”ë“œ í†µì¼ì„±ì˜ ì´ìµì´ ë” í¼
*/

</script>
</body>
</html>