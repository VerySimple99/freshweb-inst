<!--
1. ë°±í‹± (Template Literal)

ê¸°ë³¸ ê°œë…: ${} ë¬¸ë²•ìœ¼ë¡œ ë³€ìˆ˜ ì‚½ì…
ì‹¤ìƒí™œ ë¹„ìœ : "í¸ì§€ ì–‘ì‹ì— ì´ë¦„ ë„£ê¸°"
HTML ìƒì„±: ë³µì¡í•œ ë¬¸ìì—´ ì—°ê²°ì„ ê°„ë‹¨í•˜ê²Œ

2. forEach

ê¸°ë³¸ ê°œë…: ë°°ì—´ì˜ ê° ìš”ì†Œì— ëŒ€í•´ í•¨ìˆ˜ ì‹¤í–‰
ì‹¤ìƒí™œ ë¹„ìœ : "í•™ìƒ ëª…ë‹¨ì„ í•˜ë‚˜ì”© í˜¸ëª…í•˜ê¸°"
ì£¼ì˜ì‚¬í•­: ë°˜í™˜ê°’ ì—†ìŒ, ë‹¨ìˆœ ë°˜ë³µìš©

3. map

ê¸°ë³¸ ê°œë…: ë°°ì—´ì„ ë³€í™˜í•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ ìƒì„±
ì‹¤ìƒí™œ ë¹„ìœ : "ì›ë³¸ ì‚¬ì§„ë“¤ì„ ë³µì‚¬í•´ì„œ í•„í„° ì ìš©í•˜ê¸°"
í•µì‹¬: return í•„ìˆ˜, ë°ì´í„° ë³€í™˜ìš©

-->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ë°±í‹±, forEach, map ê¸°ì´ˆ í•™ìŠµ</title>
</head>
<body>

<h2>ğŸ¯ ë°±í‹±, forEach, map ê¸°ì´ˆ í•™ìŠµ</h2>

<div id="output1"></div>
<div id="output2"></div>
<div id="output3"></div>

<script type="text/javascript">

/* ===== 1. ë°±í‹±(Template Literal) ê¸°ì´ˆ ===== */

console.log('=== 1. ë°±í‹±(Template Literal) í•™ìŠµ ===');

// ê¸°ì¡´ ë°©ì‹: ë¬¸ìì—´ ì—°ê²° (+ ì—°ì‚°ì ì‚¬ìš©)
const userName = "ê¹€ì² ìˆ˜";
const age = 25;
const city = "ì„œìš¸";

// êµ¬ì‹ ë°©ë²•: ë¬¸ìì—´ ì—°ê²°ì´ ë³µì¡í•˜ê³  ê°€ë…ì„±ì´ ë–¨ì–´ì§
const oldWay = "ì•ˆë…•í•˜ì„¸ìš”! ì œ ì´ë¦„ì€ " + userName + "ì´ê³ , " + age + "ì‚´ì…ë‹ˆë‹¤. " + city + "ì— ì‚´ê³  ìˆìŠµë‹ˆë‹¤.";
console.log('êµ¬ì‹ ë°©ë²•:', oldWay);

// í˜„ëŒ€ì  ë°©ë²•: ë°±í‹±(`) ì‚¬ìš© - Template Literal
// ${ë³€ìˆ˜ëª…} í˜•íƒœë¡œ ë³€ìˆ˜ë¥¼ ë¬¸ìì—´ ì•ˆì— ì§ì ‘ ì‚½ì… ê°€ëŠ¥
const modernWay = `ì•ˆë…•í•˜ì„¸ìš”! ì œ ì´ë¦„ì€ ${userName}ì´ê³ , ${age}ì‚´ì…ë‹ˆë‹¤. ${city}ì— ì‚´ê³  ìˆìŠµë‹ˆë‹¤.`;
console.log('í˜„ëŒ€ì  ë°©ë²•:', modernWay);

// ë°±í‹±ì˜ ì¶”ê°€ ê¸°ëŠ¥ë“¤
// 1) ì—¬ëŸ¬ ì¤„ ë¬¸ìì—´ ì§€ì›
const multiLine = `
    ì´ê²ƒì€ ì—¬ëŸ¬ ì¤„ë¡œ
    ì‘ì„±ëœ ë¬¸ìì—´ì…ë‹ˆë‹¤.
    ì¤„ë°”ê¿ˆì´ ê·¸ëŒ€ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.
`;
console.log('ì—¬ëŸ¬ ì¤„ ë¬¸ìì—´:', multiLine);

// 2) í‘œí˜„ì‹(ê³„ì‚°) ì§€ì›
const price = 1000;
const quantity = 3;
const total = `ì´ ê°€ê²©: ${price * quantity}ì› (ê°œë‹¹ ${price}ì› Ã— ${quantity}ê°œ)`;
console.log('ê³„ì‚°ì‹ í¬í•¨:', total);

// 3) HTML íƒœê·¸ ìƒì„± ì‹œ ë§¤ìš° ìœ ìš©
const productName = "ë…¸íŠ¸ë¶";
const productPrice = 1500000;
const htmlContent = `
    <div class="product">
        <h3>${productName}</h3>
        <p>ê°€ê²©: ${productPrice.toLocaleString()}ì›</p>
        <button>êµ¬ë§¤í•˜ê¸°</button>
    </div>
`;

// ê²°ê³¼ë¥¼ í™”ë©´ì— í‘œì‹œ
document.querySelector('#output1').innerHTML = `
    <h3>ğŸ“ ë°±í‹± ì˜ˆì œ ê²°ê³¼</h3>
    <p><strong>ê¸°ì¡´ ë°©ì‹:</strong> ${oldWay}</p>
    <p><strong>ë°±í‹± ë°©ì‹:</strong> ${modernWay}</p>
    <div style="border: 1px solid #ccc; padding: 10px; margin: 10px 0;">
        <strong>HTML ìƒì„± ì˜ˆì œ:</strong>
        ${htmlContent}
    </div>
`;


/* ===== 2. forEach ê¸°ì´ˆ ===== */

console.log('=== 2. forEach í•™ìŠµ ===');

// ë°°ì—´ ì¤€ë¹„
const fruits = ['ì‚¬ê³¼', 'ë°”ë‚˜ë‚˜', 'ì˜¤ë Œì§€', 'í¬ë„', 'ë”¸ê¸°'];

// êµ¬ì‹ ë°©ë²•: for ë°˜ë³µë¬¸
console.log('êµ¬ì‹ for ë°˜ë³µë¬¸:');
for(let i = 0; i < fruits.length; i++) {
    console.log(`${i + 1}ë²ˆì§¸ ê³¼ì¼: ${fruits[i]}`);
}

// í˜„ëŒ€ì  ë°©ë²•: forEach ì‚¬ìš©
console.log('í˜„ëŒ€ì  forEach:');
fruits.forEach(function(fruit, index) {
    // fruit: í˜„ì¬ ì²˜ë¦¬ì¤‘ì¸ ë°°ì—´ ìš”ì†Œ (ì‚¬ê³¼, ë°”ë‚˜ë‚˜, ì˜¤ë Œì§€...)
    // index: í˜„ì¬ ìš”ì†Œì˜ ìˆœì„œ (0, 1, 2...)
    console.log(`${index + 1}ë²ˆì§¸ ê³¼ì¼: ${fruit}`);
});

// í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ë” ê°„ê²°í•˜ê²Œ (ë¦¬ì•¡íŠ¸ ìŠ¤íƒ€ì¼)
console.log('í™”ì‚´í‘œ í•¨ìˆ˜ forEach:');
fruits.forEach((fruit, index) => {
    console.log(`ğŸ ${index + 1}. ${fruit}`);
});

// forEach ì‹¤ë¬´ í™œìš© ì˜ˆì œ: DOM ì¡°ì‘
let fruitListHTML = '<h4>ğŸ ê³¼ì¼ ëª©ë¡</h4><ul>';
fruits.forEach((fruit, index) => {
    // ê° ê³¼ì¼ì„ ë¦¬ìŠ¤íŠ¸ í•­ëª©ìœ¼ë¡œ ë³€í™˜
    fruitListHTML += `<li>${index + 1}. ${fruit} (${fruit.length}ê¸€ì)</li>`;
});
fruitListHTML += '</ul>';

// ê²°ê³¼ë¥¼ í™”ë©´ì— í‘œì‹œ
document.querySelector('#output2').innerHTML = `
    <h3>ğŸ”„ forEach ì˜ˆì œ ê²°ê³¼</h3>
    ${fruitListHTML}
    <p><em>â€» ì½˜ì†”ì°½ì„ í™•ì¸í•˜ì—¬ forEach ì‹¤í–‰ ê³¼ì •ì„ ë³´ì„¸ìš”!</em></p>
`;


/* ===== 3. map ê¸°ì´ˆ ===== */

console.log('=== 3. map í•™ìŠµ ===');

// ìˆ«ì ë°°ì—´ ì¤€ë¹„
const numbers = [1, 2, 3, 4, 5];

// forEach vs mapì˜ ì°¨ì´ì 
console.log('ì›ë³¸ ë°°ì—´:', numbers);

// forEach: ê° ìš”ì†Œë¥¼ ì²˜ë¦¬í•˜ì§€ë§Œ ìƒˆë¡œìš´ ë°°ì—´ì„ ë°˜í™˜í•˜ì§€ ì•ŠìŒ
let doubledWithForEach = [];
numbers.forEach(function(number) {
    doubledWithForEach.push(number * 2);
});
console.log('forEachë¡œ 2ë°° ë§Œë“¤ê¸°:', doubledWithForEach);

// map: ê° ìš”ì†Œë¥¼ ë³€í™˜í•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ì„ ë°˜í™˜ (ê¶Œì¥)
const doubledWithMap = numbers.map(function(number) {
    return number * 2;  // returnì´ ì¤‘ìš”! ìƒˆë¡œìš´ ê°’ì„ ë°˜í™˜
});
console.log('mapìœ¼ë¡œ 2ë°° ë§Œë“¤ê¸°:', doubledWithMap);

// í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ë” ê°„ê²°í•˜ê²Œ
const tripled = numbers.map(number => number * 3);
console.log('í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ 3ë°°:', tripled);

// map ì‹¤ë¬´ í™œìš© ì˜ˆì œ 1: ë°°ì—´ì„ HTMLë¡œ ë³€í™˜
const students = ['ê¹€ì² ìˆ˜', 'ì´ì˜í¬', 'ë°•ë¯¼ìˆ˜', 'ìµœì§€ì€'];

const studentListHTML = students.map((student, index) => {
    // ê° í•™ìƒì„ HTML ë¦¬ìŠ¤íŠ¸ í•­ëª©ìœ¼ë¡œ ë³€í™˜
    return `<li>ğŸ‘¨â€ğŸ“ ${index + 1}ë²ˆ í•™ìƒ: ${student}</li>`;
}).join('');  // join(''): ë°°ì—´ì„ ë¬¸ìì—´ë¡œ ì—°ê²°

console.log('í•™ìƒ ëª©ë¡ HTML:', studentListHTML);

// map ì‹¤ë¬´ í™œìš© ì˜ˆì œ 2: ê°ì²´ ë°°ì—´ ì²˜ë¦¬
const products = [
    {name: 'ë…¸íŠ¸ë¶', price: 1500000},
    {name: 'ë§ˆìš°ìŠ¤', price: 30000},
    {name: 'í‚¤ë³´ë“œ', price: 80000}
];

// ê° ìƒí’ˆì„ ì¹´ë“œ í˜•íƒœì˜ HTMLë¡œ ë³€í™˜
const productCardsHTML = products.map((product, index) => {
    return `
        <div style="border: 1px solid #ddd; padding: 10px; margin: 5px; border-radius: 5px;">
            <h4>${product.name}</h4>
            <p>ğŸ’° ê°€ê²©: ${product.price.toLocaleString()}ì›</p>
            <button>êµ¬ë§¤í•˜ê¸°</button>
        </div>
    `;
}).join('');

// ê°€ê²©ë§Œ ì¶”ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ ë§Œë“¤ê¸°
const prices = products.map(product => product.price);
console.log('ê°€ê²© ë°°ì—´:', prices);

// í• ì¸ëœ ê°€ê²© ê³„ì‚° (10% í• ì¸)
const discountedPrices = products.map(product => {
    const discountPrice = product.price * 0.9;
    return {
        name: product.name,
        originalPrice: product.price,
        discountPrice: Math.floor(discountPrice)  // ì†Œìˆ˜ì  ì œê±°
    };
});
console.log('í• ì¸ ì •ë³´:', discountedPrices);

// ê²°ê³¼ë¥¼ í™”ë©´ì— í‘œì‹œ
document.querySelector('#output3').innerHTML = `
    <h3>ğŸ”„ map ì˜ˆì œ ê²°ê³¼</h3>
    
    <h4>ğŸ“š í•™ìƒ ëª©ë¡ (mapìœ¼ë¡œ ìƒì„±)</h4>
    <ul>${studentListHTML}</ul>
    
    <h4>ğŸ›’ ìƒí’ˆ ëª©ë¡ (mapìœ¼ë¡œ ìƒì„±)</h4>
    ${productCardsHTML}
    
    <h4>ğŸ“Š ê°€ê²© ì •ë³´</h4>
    <p><strong>ì›ë˜ ê°€ê²©:</strong> ${prices.join(', ')}ì›</p>
    <p><em>â€» ì½˜ì†”ì°½ì—ì„œ í• ì¸ ì •ë³´ë„ í™•ì¸í•´ë³´ì„¸ìš”!</em></p>
`;


/* ===== 4. ì„¸ ê°€ì§€ ê¸°ìˆ  ì¡°í•© ì˜ˆì œ ===== */

console.log('=== 4. ë°±í‹± + forEach + map ì¡°í•© ì˜ˆì œ ===');

// í•™ìƒ ì„±ì  ë°ì´í„°
const studentGrades = [
    {name: 'ê¹€ì² ìˆ˜', korean: 85, english: 90, math: 78},
    {name: 'ì´ì˜í¬', korean: 92, english: 88, math: 95},
    {name: 'ë°•ë¯¼ìˆ˜', korean: 78, english: 82, math: 85}
];

// mapìœ¼ë¡œ ê° í•™ìƒì˜ í‰ê·  ê³„ì‚°
const studentsWithAverage = studentGrades.map(student => {
    const total = student.korean + student.english + student.math;
    const average = Math.round(total / 3);  // í‰ê·  ê³„ì‚° í›„ ë°˜ì˜¬ë¦¼
    
    return {
        name: student.name,
        korean: student.korean,
        english: student.english,
        math: student.math,
        average: average,
        grade: average >= 90 ? 'A' : average >= 80 ? 'B' : 'C'  // ì‚¼í•­ ì—°ì‚°ìë¡œ ë“±ê¸‰ ê²°ì •
    };
});

console.log('í‰ê·  ê³„ì‚° ê²°ê³¼:', studentsWithAverage);

// ë°±í‹±ê³¼ mapì„ ì¡°í•©í•˜ì—¬ ì„±ì í‘œ HTML ìƒì„±
const gradeReportHTML = `
    <table border="1" style="border-collapse: collapse; width: 100%;">
        <thead>
            <tr style="background-color: #f0f0f0;">
                <th>ì´ë¦„</th><th>êµ­ì–´</th><th>ì˜ì–´</th><th>ìˆ˜í•™</th><th>í‰ê· </th><th>ë“±ê¸‰</th>
            </tr>
        </thead>
        <tbody>
            ${studentsWithAverage.map(student => `
                <tr>
                    <td>${student.name}</td>
                    <td>${student.korean}</td>
                    <td>${student.english}</td>
                    <td>${student.math}</td>
                    <td><strong>${student.average}</strong></td>
                    <td style="color: ${student.grade === 'A' ? 'green' : student.grade === 'B' ? 'blue' : 'red'};">
                        ${student.grade}
                    </td>
                </tr>
            `).join('')}
        </tbody>
    </table>
`;

// forEachë¡œ ê° í•™ìƒì˜ ìƒì„¸ ì •ë³´ ì¶œë ¥
console.log('=== ê° í•™ìƒ ìƒì„¸ ì •ë³´ ===');
studentsWithAverage.forEach((student, index) => {
    console.log(`${index + 1}ë²ˆ í•™ìƒ: ${student.name} - í‰ê· : ${student.average}ì  (${student.grade}ë“±ê¸‰)`);
});

// ê²°ê³¼ë¥¼ ê¸°ì¡´ output3ì— ì¶”ê°€
document.querySelector('#output3').innerHTML += `
    <h4>ğŸ“Š ì„±ì í‘œ (ë°±í‹± + map + forEach ì¡°í•©)</h4>
    ${gradeReportHTML}
`;


/* ===== í•µì‹¬ ê°œë… ì •ë¦¬ ===== */

/*
1. ë°±í‹± (Template Literal) - ES6 ë¬¸ë²•
   - ê¸°í˜¸: ` (ë°±í‹±, grave accent)
   - ë³€ìˆ˜ ì‚½ì…: ${ë³€ìˆ˜ëª…}
   - ì—¬ëŸ¬ ì¤„ ì§€ì›
   - í‘œí˜„ì‹ ê³„ì‚° ê°€ëŠ¥
   - HTML ìƒì„± ì‹œ ë§¤ìš° ìœ ìš©

2. forEach - ë°°ì—´ ìˆœíšŒ ë©”ì„œë“œ
   - ê° ìš”ì†Œì— ëŒ€í•´ í•¨ìˆ˜ ì‹¤í–‰
   - ë°˜í™˜ê°’ ì—†ìŒ (undefined)
   - ì›ë³¸ ë°°ì—´ ë³€ê²½í•˜ì§€ ì•ŠìŒ
   - ë‹¨ìˆœ ë°˜ë³µ ì‘ì—…ì— ì í•©

3. map - ë°°ì—´ ë³€í™˜ ë©”ì„œë“œ
   - ê° ìš”ì†Œë¥¼ ë³€í™˜í•˜ì—¬ ìƒˆë¡œìš´ ë°°ì—´ ë°˜í™˜
   - ë°˜ë“œì‹œ return í•„ìš”
   - ì›ë³¸ ë°°ì—´ ë³€ê²½í•˜ì§€ ì•ŠìŒ
   - ë°ì´í„° ë³€í™˜ì— ì í•©

4. ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©í• ê¹Œ?
   - ë‹¨ìˆœ ì¶œë ¥, DOM ì¡°ì‘: forEach
   - ë°ì´í„° ë³€í™˜, HTML ìƒì„±: map
   - ë¬¸ìì—´ ì¡°í•©: ë°±í‹±
   - ì„¸ ê°œ ì¡°í•©: ë³µì¡í•œ ë°ì´í„° ì²˜ë¦¬

5. ë¦¬ì•¡íŠ¸ ì—°ê³„ì„±:
   - JSXì—ì„œ map ìì£¼ ì‚¬ìš©: {items.map(item => <div>{item}</div>)}
   - ë°±í‹±ìœ¼ë¡œ ë™ì  className: className={`btn ${isActive ? 'active' : ''}`}
   - forEachëŠ” ë¦¬ì•¡íŠ¸ì—ì„œ ì˜ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ (map ì„ í˜¸)
*/

</script>
</body>
</html>