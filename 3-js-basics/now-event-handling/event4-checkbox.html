<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>체크박스 - 현대적 방식</title>
</head>
<body>

<form action="MenuServlet">
<input type="checkbox" name="food" value="햄버거">햄버거<br>
<input type="checkbox" name="food" value="마라샹궈">마라샹궈<br>
<input type="checkbox" name="food" value="짬짜면">짬짜면<br>
<button type="button" id="orderBtn">주문</button>
</form>

<script type="text/javascript">

/* ===== querySelector + addEventListener 방식으로 체크박스 처리 ===== */

// 1. DOM 요소 선택 - querySelector 사용
// 구식: document.getElementsByName("food")  
// 현대식: document.querySelectorAll("input[name='food']") (권장)
const foodCheckboxes = document.querySelectorAll("input[name='food']");
const orderButton = document.querySelector("#orderBtn");

// 2. 주문 처리 함수 - 화살표 함수 사용 (리액트 스타일)
const processOrder = () => {
    console.log('=== 주문 처리 시작 ===');
    
    // forEach를 사용하여 각 체크박스 상태 확인
    // NodeList는 forEach 메서드를 지원함
    foodCheckboxes.forEach(function(checkbox, index) {
        const menuName = checkbox.value;           // 체크박스의 value 속성값
        const isChecked = checkbox.checked;        // 체크 여부 (true/false)
        
        // 콘솔에 각 메뉴의 상태 출력 (기존 alert 대신)
        console.log(`${index + 1}번째 메뉴: ${menuName} - 선택됨: ${isChecked}`);
    });
};

// 3. addEventListener로 이벤트 등록
// 구식: onclick="testCheckBox()" (HTML에 직접 작성)
// 현대식: addEventListener 사용 (권장)
orderButton.addEventListener('click', processOrder);


/* ===== 구식 방법과 현대적 방법 비교 ===== */

/*
1. DOM 요소 선택:
   구식: document.getElementsByName("food")
   현대식: document.querySelectorAll("input[name='food']")

2. 이벤트 처리:
   구식: onclick="functionName()" (HTML에 직접)
   현대식: addEventListener('click', functionName)

3. 배열 순회:
   구식: for(let i=0; i<array.length; i++)
   현대식: forEach(function(item, index))

4. 함수 정의:
   구식: function functionName() {}
   현대식: const functionName = () => {}
*/

</script>
</body>
</html>