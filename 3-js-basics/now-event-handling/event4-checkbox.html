<!--
  1. í˜„ëŒ€ì  DOM ì„ íƒ
javascript// êµ¬ì‹: document.getElementsByName("food")
// í˜„ëŒ€ì‹: document.querySelectorAll("input[name='food']")

CSS ì†ì„± ì„ íƒìë¡œ ë” ëª…í™•í•˜ê³  êµ¬ì²´ì ì¸ ì„ íƒ
ë‹¤ë¥¸ ì„ íƒìë“¤ê³¼ ì¼ê´€ëœ ë¬¸ë²• ì‚¬ìš©

2. addEventListener íŒ¨í„´

HTMLì—ì„œ JavaScript ì™„ì „ ë¶„ë¦¬
ì—¬ëŸ¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ ê°€ëŠ¥
ì´ë²¤íŠ¸ ê°ì²´ ì™„ì „ í™œìš©

3. ë¦¬ì•¡íŠ¸ ì¤€ë¹„ íŒ¨í„´ë“¤

í™”ì‚´í‘œ í•¨ìˆ˜: const processOrder = (event) => {}
forEach í™œìš©: í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„
í•¨ìˆ˜ ë¶„ë¦¬: ì¬ì‚¬ìš©ì„±ê³¼ ê°€ë…ì„± ì¦ëŒ€
-->

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ì²´í¬ë°•ìŠ¤ - í˜„ëŒ€ì  ë°©ì‹</title>
</head>
<body>
<h2>ì²´í¬ë°•ìŠ¤ ì²˜ë¦¬ - querySelector + addEventListener ë°©ì‹</h2>

<form action="MenuServlet">
<input type="checkbox" name="food" value="í–„ë²„ê±°">í–„ë²„ê±°<br>
<input type="checkbox" name="food" value="ë§ˆë¼ìƒ¹ê¶ˆ">ë§ˆë¼ìƒ¹ê¶ˆ<br>
<input type="checkbox" name="food" value="ì§¬ì§œë©´">ì§¬ì§œë©´<br>
<button type="button" id="orderBtn">ì£¼ë¬¸</button>
</form>

<div id="result"></div>

<script type="text/javascript">

/* ===== querySelector + addEventListener ë°©ì‹ìœ¼ë¡œ ì²´í¬ë°•ìŠ¤ ì²˜ë¦¬ ===== */

// 1. DOM ìš”ì†Œ ì„ íƒ - querySelector ì‚¬ìš©
// êµ¬ì‹: document.getElementsByName("food")  
// í˜„ëŒ€ì‹: document.querySelectorAll("input[name='food']") (ê¶Œì¥)
const foodCheckboxes = document.querySelectorAll("input[name='food']");    // ì†ì„± ì„ íƒìë¡œ ì²´í¬ë°•ìŠ¤ë“¤ ì„ íƒ
const orderButton = document.querySelector("#orderBtn");                   // ID ì„ íƒìë¡œ ë²„íŠ¼ ì„ íƒ
const resultDiv = document.querySelector("#result");                       // ê²°ê³¼ í‘œì‹œìš© div

// 2. ì£¼ë¬¸ ì²˜ë¦¬ í•¨ìˆ˜ - í™”ì‚´í‘œ í•¨ìˆ˜ ì‚¬ìš© (ë¦¬ì•¡íŠ¸ ìŠ¤íƒ€ì¼)
const processOrder = (event) => {
    // event.preventDefault(): í•„ìš”í•œ ê²½ìš° ê¸°ë³¸ ë™ì‘ ë°©ì§€
    // ì—¬ê¸°ì„œëŠ” type="button"ì´ë¯€ë¡œ í¼ ì œì¶œë˜ì§€ ì•Šì§€ë§Œ, ì•ˆì „ì„ ìœ„í•´ ì¶”ê°€ ê°€ëŠ¥
    
    console.log('=== ì£¼ë¬¸ ì²˜ë¦¬ ì‹œì‘ ===');
    
    // ì„ íƒëœ ë©”ë‰´ë“¤ì„ ì €ì¥í•  ë°°ì—´
    const selectedMenus = [];
    
    // forEachë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ì²´í¬ë°•ìŠ¤ ìƒíƒœ í™•ì¸
    // NodeListëŠ” forEach ë©”ì„œë“œë¥¼ ì§€ì›í•¨
    foodCheckboxes.forEach(function(checkbox, index) {
        // checkbox: í˜„ì¬ ì²˜ë¦¬ì¤‘ì¸ ì²´í¬ë°•ìŠ¤ DOM ìš”ì†Œ
        // index: ë°°ì—´ì—ì„œì˜ ìˆœì„œ (0, 1, 2...)
        
        const menuName = checkbox.value;           // ì²´í¬ë°•ìŠ¤ì˜ value ì†ì„±ê°’
        const isChecked = checkbox.checked;        // ì²´í¬ ì—¬ë¶€ (true/false)
        
        // ì½˜ì†”ì— ê° ë©”ë‰´ì˜ ìƒíƒœ ì¶œë ¥ (ê¸°ì¡´ alert ëŒ€ì‹ )
        console.log(`${index + 1}ë²ˆì§¸ ë©”ë‰´: ${menuName} - ì„ íƒë¨: ${isChecked}`);
        
        // ì²´í¬ëœ ë©”ë‰´ë§Œ ë°°ì—´ì— ì¶”ê°€
        if (isChecked) {
            selectedMenus.push(menuName);
        }
    });
    
    // 3. ê²°ê³¼ í™”ë©´ì— í‘œì‹œ
    displayOrderResult(selectedMenus);
};

// ì£¼ë¬¸ ê²°ê³¼ë¥¼ í™”ë©´ì— í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ (í•¨ìˆ˜ ë¶„ë¦¬ë¡œ ì¬ì‚¬ìš©ì„± ì¦ëŒ€)
const displayOrderResult = (selectedMenus) => {
    let resultHTML = '';
    
    if (selectedMenus.length > 0) {
        // ì„ íƒëœ ë©”ë‰´ê°€ ìˆëŠ” ê²½ìš°
        resultHTML = `
            <h3>ğŸ½ï¸ ì£¼ë¬¸ ë‚´ì—­</h3>
            <ul>
                ${selectedMenus.map(menu => `<li>${menu}</li>`).join('')}
            </ul>
            <p><strong>ì´ ${selectedMenus.length}ê°œ ë©”ë‰´ ì„ íƒë¨</strong></p>
            <p>ì£¼ë¬¸ ì‹œê°„: ${new Date().toLocaleString()}</p>
        `;
        resultDiv.style.backgroundColor = '#d4edda';
        resultDiv.style.border = '1px solid #c3e6cb';
    } else {
        // ì„ íƒëœ ë©”ë‰´ê°€ ì—†ëŠ” ê²½ìš°
        resultHTML = `
            <h3>âš ï¸ ì•Œë¦¼</h3>
            <p>ë©”ë‰´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!</p>
        `;
        resultDiv.style.backgroundColor = '#f8d7da';
        resultDiv.style.border = '1px solid #f5c6cb';
    }
    
    resultDiv.innerHTML = resultHTML;
    resultDiv.style.padding = '15px';
    resultDiv.style.borderRadius = '5px';
    resultDiv.style.marginTop = '20px';
};

// 4. addEventListenerë¡œ ì´ë²¤íŠ¸ ë“±ë¡
// êµ¬ì‹: onclick="testCheckBox()" (HTMLì— ì§ì ‘ ì‘ì„±)
// í˜„ëŒ€ì‹: addEventListener ì‚¬ìš© (ê¶Œì¥)
orderButton.addEventListener('click', processOrder);

// 5. ì¶”ê°€ ê¸°ëŠ¥: ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë³€ê²½ ì‹œ ì‹¤ì‹œê°„ í”¼ë“œë°±
foodCheckboxes.forEach(function(checkbox) {
    // ê° ì²´í¬ë°•ìŠ¤ì— change ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
    checkbox.addEventListener('change', function(event) {
        const menuName = event.target.value;
        const isChecked = event.target.checked;
        
        console.log(`ë©”ë‰´ ì„ íƒ ë³€ê²½: ${menuName} - ${isChecked ? 'ì„ íƒí•¨' : 'ì„ íƒ í•´ì œ'}`);
        
        // ì‹œê°ì  í”¼ë“œë°± ì¶”ê°€
        if (isChecked) {
            event.target.parentElement.style.fontWeight = 'bold';
            event.target.parentElement.style.color = '#28a745';
        } else {
            event.target.parentElement.style.fontWeight = 'normal';
            event.target.parentElement.style.color = 'black';
        }
    });
});

// 6. ì¶”ê°€ ê¸°ëŠ¥: ì „ì²´ ì„ íƒ/í•´ì œ ê¸°ëŠ¥
const addSelectAllFeature = () => {
    // ì „ì²´ ì„ íƒ ë²„íŠ¼ ë™ì  ìƒì„±
    const selectAllBtn = document.createElement('button');
    selectAllBtn.type = 'button';
    selectAllBtn.textContent = 'ì „ì²´ ì„ íƒ';
    selectAllBtn.style.marginLeft = '10px';
    
    const deselectAllBtn = document.createElement('button');
    deselectAllBtn.type = 'button';
    deselectAllBtn.textContent = 'ì „ì²´ í•´ì œ';
    deselectAllBtn.style.marginLeft = '10px';
    
    // ë²„íŠ¼ë“¤ì„ ì£¼ë¬¸ ë²„íŠ¼ ì˜†ì— ì¶”ê°€
    orderButton.parentElement.appendChild(selectAllBtn);
    orderButton.parentElement.appendChild(deselectAllBtn);
    
    // ì „ì²´ ì„ íƒ ì´ë²¤íŠ¸
    selectAllBtn.addEventListener('click', function() {
        foodCheckboxes.forEach(function(checkbox) {
            checkbox.checked = true;
            // change ì´ë²¤íŠ¸ ìˆ˜ë™ ë°œìƒìœ¼ë¡œ ì‹œê°ì  í”¼ë“œë°± ì ìš©
            checkbox.dispatchEvent(new Event('change'));
        });
        console.log('ëª¨ë“  ë©”ë‰´ ì„ íƒë¨');
    });
    
    // ì „ì²´ í•´ì œ ì´ë²¤íŠ¸
    deselectAllBtn.addEventListener('click', function() {
        foodCheckboxes.forEach(function(checkbox) {
            checkbox.checked = false;
            // change ì´ë²¤íŠ¸ ìˆ˜ë™ ë°œìƒìœ¼ë¡œ ì‹œê°ì  í”¼ë“œë°± ì ìš©
            checkbox.dispatchEvent(new Event('change'));
        });
        console.log('ëª¨ë“  ë©”ë‰´ ì„ íƒ í•´ì œë¨');
    });
};

// í˜ì´ì§€ ë¡œë“œ í›„ ì¶”ê°€ ê¸°ëŠ¥ í™œì„±í™”
document.addEventListener('DOMContentLoaded', function() {
    addSelectAllFeature();
    console.log('ì²´í¬ë°•ìŠ¤ ê¸°ëŠ¥ ì´ˆê¸°í™” ì™„ë£Œ');
});


/* ===== êµ¬ì‹ ë°©ë²•ê³¼ í˜„ëŒ€ì  ë°©ë²• ë¹„êµ ===== */

/*
1. DOM ìš”ì†Œ ì„ íƒ:
   êµ¬ì‹: document.getElementsByName("food")
   í˜„ëŒ€ì‹: document.querySelectorAll("input[name='food']")
   
   ì¥ì :
   - CSS ì„ íƒì ë¬¸ë²•ìœ¼ë¡œ ë” ëª…í™•í•¨
   - ë‹¤ë¥¸ ì„ íƒìë“¤ê³¼ ì¼ê´€ëœ ë¬¸ë²•
   - ë” êµ¬ì²´ì ì¸ ì„ íƒ ê°€ëŠ¥

2. ì´ë²¤íŠ¸ ì²˜ë¦¬:
   êµ¬ì‹: onclick="functionName()" (HTMLì— ì§ì ‘)
   í˜„ëŒ€ì‹: addEventListener('click', functionName)
   
   ì¥ì :
   - HTMLê³¼ JavaScript ë¶„ë¦¬
   - ì—¬ëŸ¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ ê°€ëŠ¥
   - ì´ë²¤íŠ¸ ê°ì²´ ì™„ì „ í™œìš©
   - removeEventListenerë¡œ ì œê±° ê°€ëŠ¥

3. ë°°ì—´ ìˆœíšŒ:
   êµ¬ì‹: for(let i=0; i<array.length; i++)
   í˜„ëŒ€ì‹: forEach(function(item, index))
   
   ì¥ì :
   - ë” ì§ê´€ì ì´ê³  ì½ê¸° ì‰¬ì›€
   - index ì˜¤ë¥˜ ë°©ì§€
   - í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„

4. í•¨ìˆ˜ ì •ì˜:
   êµ¬ì‹: function functionName() {}
   í˜„ëŒ€ì‹: const functionName = () => {}
   
   ì¥ì :
   - ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ íŒ¨í„´ê³¼ ì¼ì¹˜
   - this ë°”ì¸ë”© ë¬¸ì œ í•´ê²°
   - ë” ê°„ê²°í•œ ë¬¸ë²•

5. ê²°ê³¼ í‘œì‹œ:
   êµ¬ì‹: alert() ì‚¬ìš©
   í˜„ëŒ€ì‹: DOM ì¡°ì‘ìœ¼ë¡œ í™”ë©´ì— í‘œì‹œ
   
   ì¥ì :
   - ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
   - ë” ë§ì€ ì •ë³´ í‘œì‹œ ê°€ëŠ¥
   - ìŠ¤íƒ€ì¼ë§ ê°€ëŠ¥
*/

</script>
</body>
</html>