<!--
1ï¸âƒ£ ê¸°ë³¸ ì´ë²¤íŠ¸ ì²˜ë¦¬

HTML ì¸ë¼ì¸ vs DOM ì†ì„± vs addEventListener ë¹„êµ
ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ íƒ€ì… (click, input, focus, blur, keydown ë“±)
ë§ˆìš°ìŠ¤ì™€ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ì˜ ê¸°ë³¸ í™œìš©

2ï¸âƒ£ addEventListener ë§ˆìŠ¤í„°

ì—¬ëŸ¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ê³¼ ì œê±°
ì´ë²¤íŠ¸ ì˜µì…˜ ({ once, passive })
ì´ë²¤íŠ¸ ìœ„ì„ (Event Delegation)
ë””ë°”ìš´ì‹±ê³¼ ì“°ë¡œí‹€ë§ ì„±ëŠ¥ ìµœì í™”

3ï¸âƒ£ ì´ë²¤íŠ¸ ê°ì²´ ì™„ì „ í™œìš©

ì´ë²¤íŠ¸ ê°ì²´ì˜ ì£¼ìš” ì†ì„±ë“¤
preventDefault()ì™€ stopPropagation()
ë§ˆìš°ìŠ¤/í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ìƒì„¸ ì •ë³´
ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±ê³¼ ë°œìƒ

4ï¸âƒ£ í¼ ì´ë²¤íŠ¸ ì™„ì „ ì •ë³µ

ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬ (input, change ì´ë²¤íŠ¸)
í¼ ì œì¶œ ì²˜ë¦¬ì™€ Ajax ì—°ë™
ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ (ë¡œë”© ìƒíƒœ, ì—ëŸ¬ í‘œì‹œ)
í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ê³¼ ì ‘ê·¼ì„±

5ï¸âƒ£ Spring í¼ ì—°ë™ ì‹¤ë¬´

Spring Boot Controllerì™€ ì—°ë™í•˜ëŠ” íšŒì›ê°€ì… í¼
@Valid ê²€ì¦ê³¼ ì¼ì¹˜í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìœ íš¨ì„± ê²€ì‚¬
ì‹¤ì‹œê°„ ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸
Spring ì—ëŸ¬ ì‘ë‹µ ì²˜ë¦¬ (fieldErrors)
ë¡œë”© ìƒíƒœì™€ ì‚¬ìš©ì í”¼ë“œë°±

ğŸ’¡ Spring í•™ìŠµì— íŠ¹íˆ ìœ ìš©í•œ ì´ìœ :
ğŸŒ± ì‹¤ë¬´ ì§ê²°:

Spring Controllerì˜ @PostMappingê³¼ ì—°ë™
@RequestBodyë¡œ ì „ì†¡í•  ë°ì´í„° ì²˜ë¦¬
@Valid ê²€ì¦ê³¼ í´ë¼ì´ì–¸íŠ¸ ê²€ì¦ ì¼ì¹˜

ğŸ”’ ë³´ì•ˆê³¼ UX:

í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì–‘ìª½ ìœ íš¨ì„± ê²€ì‚¬
CSRF ë°©ì§€ì™€ ë³´ì•ˆ í—¤ë” ì²˜ë¦¬
ì‹¤ì‹œê°„ í”¼ë“œë°±ìœ¼ë¡œ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ

ğŸ“± ì ‘ê·¼ì„±:

í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›
ìŠ¤í¬ë¦° ë¦¬ë” ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€
ë¡œë”© ìƒíƒœì™€ ì§„í–‰ í‘œì‹œ

âš¡ ì„±ëŠ¥ ìµœì í™”:

ë””ë°”ìš´ì‹±ìœ¼ë¡œ API í˜¸ì¶œ ìµœì í™”
ì´ë²¤íŠ¸ ìœ„ì„ìœ¼ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì„±
ì ì ˆí•œ ì´ë²¤íŠ¸ íƒ€ì… ì„ íƒ
-->
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>JavaScript Event Handling ì™„ì „ ì •ë³µ</title>
<style>
    .demo-button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; cursor: pointer; }
    .demo-input { padding: 8px; margin: 5px; border: 1px solid #ccc; }
    .demo-box { width: 200px; height: 100px; border: 2px solid #333; margin: 10px; padding: 10px; background: #f0f0f0; }
    .highlight { background: yellow; }
</style>
</head>
<body>
JavaScript Event Handling: ì‚¬ìš©ì ìƒí˜¸ì‘ìš©ì„ ì²˜ë¦¬í•˜ëŠ” ì›¹ ê°œë°œì˜ í•µì‹¬
<br><br>

<button onclick="basicEvents()">ê¸°ë³¸ ì´ë²¤íŠ¸</button>
<button onclick="eventListeners()">ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ</button>
<button onclick="eventObject()">ì´ë²¤íŠ¸ ê°ì²´</button>
<button onclick="formEvents()">í¼ ì´ë²¤íŠ¸</button>
<button onclick="springFormExample()">Spring í¼ ì—°ë™</button>

<!-- ë°ëª¨ìš© ìš”ì†Œë“¤ -->
<div id="demo-area" style="margin-top: 20px; padding: 20px; border: 1px solid #ddd;">
    <h3>ì´ë²¤íŠ¸ ë°ëª¨ ì˜ì—­</h3>
    <button id="demo-btn" class="demo-button">í´ë¦­í•´ë³´ì„¸ìš”</button>
    <input id="demo-input" class="demo-input" placeholder="ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”">
    <div id="demo-box" class="demo-box">ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ë³´ì„¸ìš”</div>
    
    <form id="demo-form" style="margin-top: 20px;">
        <input type="text" id="name-input" placeholder="ì´ë¦„" required>
        <input type="email" id="email-input" placeholder="ì´ë©”ì¼" required>
        <button type="submit">ì œì¶œ</button>
    </form>
</div>

<script>
    // ğŸ¯ í•™ìŠµ ëª©í‘œ: ì´ë²¤íŠ¸ ì²˜ë¦¬ì˜ ëª¨ë“  ê²ƒì„ ë§ˆìŠ¤í„°í•˜ê¸°
    // ğŸ’¡ í•µì‹¬ ê°œë…:
    // - ì´ë²¤íŠ¸: ì‚¬ìš©ì í–‰ë™(í´ë¦­, ì…ë ¥ ë“±)ì´ë‚˜ ë¸Œë¼ìš°ì € ìƒíƒœ ë³€í™”ë¥¼ ì•Œë¦¬ëŠ” ì‹ í˜¸
    // - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
    // - ì´ë²¤íŠ¸ ê°ì²´: ì´ë²¤íŠ¸ì— ëŒ€í•œ ìƒì„¸ ì •ë³´ë¥¼ ë‹´ì€ ê°ì²´
    // - Spring í¼ ì—°ë™ì—ì„œ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ìœ íš¨ì„± ê²€ì‚¬ì™€ ì‚¬ìš©ì ê²½í—˜ í–¥ìƒì— í•„ìˆ˜

    function basicEvents() {
        console.log("=== ê¸°ë³¸ ì´ë²¤íŠ¸ ì²˜ë¦¬ ===");
        
        // ğŸ” ì´ë²¤íŠ¸ ì²˜ë¦¬ ë°©ì‹ì˜ ì§„í™”
        // 1) HTML ì¸ë¼ì¸ ë°©ì‹ â†’ 2) DOM ì†ì„± ë°©ì‹ â†’ 3) addEventListener ë°©ì‹
        
        // 1ï¸âƒ£ HTML ì¸ë¼ì¸ ë°©ì‹ (onclick="í•¨ìˆ˜ëª…()")
        // ì¥ì : ê°„ë‹¨í•¨, ë‹¨ì : HTMLê³¼ JavaScript í˜¼ì¬, í•˜ë‚˜ì˜ ì´ë²¤íŠ¸ë§Œ ë“±ë¡ ê°€ëŠ¥
        // ì´ë¯¸ ìœ„ì˜ ë²„íŠ¼ë“¤ì´ ì´ ë°©ì‹ì„ ì‚¬ìš© ì¤‘
        console.log("HTML ì¸ë¼ì¸ ë°©ì‹ì€ ê°„ë‹¨í•˜ì§€ë§Œ ê¶Œì¥í•˜ì§€ ì•ŠìŒ");
        
        // 2ï¸âƒ£ DOM ì†ì„± ë°©ì‹ (element.onclick = function)
        // HTMLê³¼ JavaScript ë¶„ë¦¬ ê°€ëŠ¥, í•˜ì§€ë§Œ ì—¬ì „íˆ í•˜ë‚˜ì˜ í•¸ë“¤ëŸ¬ë§Œ ë“±ë¡ ê°€ëŠ¥
        const demoBtn = document.getElementById('demo-btn');
        
        // ê¸°ì¡´ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë°±ì—… (ë®ì–´ì“°ê¸° ë°©ì§€)
        const originalHandler = demoBtn.onclick;
        
        demoBtn.onclick = function(event) {
            console.log("DOM ì†ì„± ë°©ì‹ìœ¼ë¡œ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¨");
            console.log("í´ë¦­ëœ ìš”ì†Œ:", event.target.textContent);
            
            // ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½ìœ¼ë¡œ ì´ë²¤íŠ¸ ì²˜ë¦¬ í™•ì¸
            event.target.style.background = "#28a745";
            event.target.textContent = "í´ë¦­ë¨!";
            
            // 2ì´ˆ í›„ ì›ìƒë³µêµ¬
            setTimeout(() => {
                event.target.style.background = "#007bff";
                event.target.textContent = "í´ë¦­í•´ë³´ì„¸ìš”";
            }, 2000);
        };
        
        // 3ï¸âƒ£ ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ íƒ€ì…ë“¤
        const demoInput = document.getElementById('demo-input');
        const demoBox = document.getElementById('demo-box');
        
        // ì…ë ¥ ì´ë²¤íŠ¸: ì‹¤ì‹œê°„ ì…ë ¥ ê°ì§€ (ê²€ìƒ‰ ìë™ì™„ì„±ì— ì£¼ë¡œ ì‚¬ìš©)
        demoInput.oninput = function(event) {
            console.log("ì…ë ¥ëœ í…ìŠ¤íŠ¸:", event.target.value);
            
            // ì…ë ¥ ê¸¸ì´ì— ë”°ë¥¸ í”¼ë“œë°±
            if (event.target.value.length > 5) {
                event.target.style.borderColor = "green";
            } else {
                event.target.style.borderColor = "#ccc";
            }
        };
        
        // í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸: ì…ë ¥ í•„ë“œ í™œì„±í™”/ë¹„í™œì„±í™”
        demoInput.onfocus = function(event) {
            console.log("ì…ë ¥ í•„ë“œì— í¬ì»¤ìŠ¤ë¨");
            event.target.style.backgroundColor = "#e3f2fd";
        };
        
        demoInput.onblur = function(event) {
            console.log("ì…ë ¥ í•„ë“œì—ì„œ í¬ì»¤ìŠ¤ í•´ì œë¨");
            event.target.style.backgroundColor = "white";
        };
        
        // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸: í˜¸ë²„ íš¨ê³¼ êµ¬í˜„
        demoBox.onmouseenter = function(event) {
            console.log("ë§ˆìš°ìŠ¤ê°€ ë°•ìŠ¤ì— ì§„ì…í•¨");
            event.target.style.backgroundColor = "#ffeaa7";
            event.target.textContent = "ë§ˆìš°ìŠ¤ê°€ ìœ„ì— ìˆì–´ìš”!";
        };
        
        demoBox.onmouseleave = function(event) {
            console.log("ë§ˆìš°ìŠ¤ê°€ ë°•ìŠ¤ì—ì„œ ë‚˜ê°");
            event.target.style.backgroundColor = "#f0f0f0";
            event.target.textContent = "ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë ¤ë³´ì„¸ìš”";
        };
        
        // í‚¤ë³´ë“œ ì´ë²¤íŠ¸: íŠ¹ì • í‚¤ ì…ë ¥ ê°ì§€
        demoInput.onkeydown = function(event) {
            // Enter í‚¤ ê°ì§€ (í‚¤ ì½”ë“œ 13 ë˜ëŠ” key ì†ì„± ì‚¬ìš©)
            if (event.key === "Enter") {
                console.log("Enter í‚¤ê°€ ëˆŒë ¸ìŠµë‹ˆë‹¤");
                console.log("í˜„ì¬ ì…ë ¥ê°’:", event.target.value);
            }
            
            // ESC í‚¤ë¡œ ì…ë ¥ ë‚´ìš© ì§€ìš°ê¸°
            if (event.key === "Escape") {
                event.target.value = "";
                console.log("ESC í‚¤ë¡œ ì…ë ¥ ë‚´ìš© ì§€ì›Œì§");
            }
        };
        
        // ğŸ’¡ ì‹¤ë¬´ íŒ: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì •ë¦¬
        console.log("ğŸ’¡ ê¸°ë³¸ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë°©ì‹ë“¤:");
        console.log("â€¢ HTML ì¸ë¼ì¸: ê°„ë‹¨í•˜ì§€ë§Œ ê¶Œì¥ ì•ˆí•¨ (onclick='')");
        console.log("â€¢ DOM ì†ì„±: ê¸°ë³¸ì ì¸ ë°©ì‹ (element.onclick = function)");
        console.log("â€¢ addEventListener: ê°€ì¥ ê¶Œì¥í•˜ëŠ” ë°©ì‹ (ë‹¤ìŒ ì˜ˆì œì—ì„œ ì„¤ëª…)");
        
        alert("ì½˜ì†”ì„ í™•ì¸í•˜ê³  ë°ëª¨ ì˜ì—­ì˜ ìš”ì†Œë“¤ê³¼ ìƒí˜¸ì‘ìš©í•´ë³´ì„¸ìš”!");
    }
    
    function eventListeners() {
        console.log("=== addEventListener: í˜„ëŒ€ì ì¸ ì´ë²¤íŠ¸ ì²˜ë¦¬ ===");
        
        // ğŸ” addEventListenerì˜ ì¥ì 
        // 1) í•˜ë‚˜ì˜ ìš”ì†Œì— ì—¬ëŸ¬ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ ê°€ëŠ¥
        // 2) ì´ë²¤íŠ¸ ìº¡ì²˜ë§/ë²„ë¸”ë§ ì œì–´ ê°€ëŠ¥
        // 3) ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì œê±° ê°€ëŠ¥ (removeEventListener)
        // 4) í˜„ëŒ€ì ì´ê³  ìœ ì—°í•œ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë°©ì‹
        
        const demoBtn = document.getElementById('demo-btn');
        const demoInput = document.getElementById('demo-input');
        
        // 1ï¸âƒ£ ê¸°ë³¸ addEventListener ì‚¬ìš©ë²•
        // element.addEventListener('ì´ë²¤íŠ¸íƒ€ì…', í•¸ë“¤ëŸ¬í•¨ìˆ˜, ì˜µì…˜)
        
        // ê°™ì€ ìš”ì†Œì— ì—¬ëŸ¬ í´ë¦­ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë“±ë¡ (DOM ì†ì„± ë°©ì‹ìœ¼ë¡œëŠ” ë¶ˆê°€ëŠ¥!)
        demoBtn.addEventListener('click', function(event) {
            console.log("ğŸ“Œ ì²« ë²ˆì§¸ í´ë¦­ í•¸ë“¤ëŸ¬ ì‹¤í–‰ë¨");
        });
        
        demoBtn.addEventListener('click', function(event) {
            console.log("ğŸ“Œ ë‘ ë²ˆì§¸ í´ë¦­ í•¸ë“¤ëŸ¬ ì‹¤í–‰ë¨");
            event.target.classList.toggle('highlight'); // CSS í´ë˜ìŠ¤ í† ê¸€
        });
        
        // í™”ì‚´í‘œ í•¨ìˆ˜ë¡œë„ ê°€ëŠ¥
        demoBtn.addEventListener('click', (event) => {
            console.log("ğŸ“Œ ì„¸ ë²ˆì§¸ í´ë¦­ í•¸ë“¤ëŸ¬ (í™”ì‚´í‘œ í•¨ìˆ˜)");
        });
        
        // 2ï¸âƒ£ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì œê±°
        // removeEventListenerë¥¼ ìœ„í•´ì„œëŠ” í•¨ìˆ˜ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•´ì•¼ í•¨
        function removableHandler(event) {
            console.log("ğŸ—‘ï¸ ì´ í•¸ë“¤ëŸ¬ëŠ” 3ì´ˆ í›„ ì œê±°ë©ë‹ˆë‹¤");
        }
        
        demoBtn.addEventListener('click', removableHandler);
        
        // 3ì´ˆ í›„ í•¸ë“¤ëŸ¬ ì œê±°
        setTimeout(() => {
            demoBtn.removeEventListener('click', removableHandler);
            console.log("ğŸ—‘ï¸ í•¸ë“¤ëŸ¬ê°€ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤");
        }, 3000);
        
        // 3ï¸âƒ£ ì´ë²¤íŠ¸ ì˜µì…˜ í™œìš©
        
        // once: true - í•œ ë²ˆë§Œ ì‹¤í–‰ë˜ê³  ìë™ìœ¼ë¡œ ì œê±°
        demoBtn.addEventListener('click', function(event) {
            console.log("ğŸ”¥ ì´ ë©”ì‹œì§€ëŠ” í•œ ë²ˆë§Œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤ (once ì˜µì…˜)");
        }, { once: true });
        
        // passive: true - preventDefault() í˜¸ì¶œ ì•ˆí•¨ì„ ëª…ì‹œ (ì„±ëŠ¥ ìµœì í™”)
        demoInput.addEventListener('wheel', function(event) {
            console.log("ğŸ¡ ë§ˆìš°ìŠ¤ íœ  ì´ë²¤íŠ¸ (passive)");
        }, { passive: true });
        
        // 4ï¸âƒ£ ì´ë²¤íŠ¸ ìœ„ì„ (Event Delegation)
        // ë¶€ëª¨ ìš”ì†Œì—ì„œ ìì‹ ìš”ì†Œë“¤ì˜ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” íŒ¨í„´
        // ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ìš”ì†Œë“¤ì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ì— í•„ìˆ˜
        
        const demoArea = document.getElementById('demo-area');
        
        // ë°ëª¨ ì˜ì—­ ë‚´ì˜ ëª¨ë“  ë²„íŠ¼ í´ë¦­ì„ í•œ ê³³ì—ì„œ ì²˜ë¦¬
        demoArea.addEventListener('click', function(event) {
            // event.targetìœ¼ë¡œ ì‹¤ì œ í´ë¦­ëœ ìš”ì†Œ í™•ì¸
            if (event.target.tagName === 'BUTTON') {
                console.log("ğŸ¯ ì´ë²¤íŠ¸ ìœ„ì„ìœ¼ë¡œ ë²„íŠ¼ í´ë¦­ ê°ì§€:", event.target.textContent);
                
                // í´ë¦­ëœ ë²„íŠ¼ì— ì„ì‹œ íš¨ê³¼ ì¶”ê°€
                event.target.style.transform = "scale(0.95)";
                setTimeout(() => {
                    event.target.style.transform = "scale(1)";
                }, 100);
            }
        });
        
        // ë™ì  ë²„íŠ¼ ìƒì„± í…ŒìŠ¤íŠ¸
        function createDynamicButton() {
            const newBtn = document.createElement('button');
            newBtn.textContent = `ë™ì  ë²„íŠ¼ ${Date.now()}`;
            newBtn.className = 'demo-button';
            demoArea.appendChild(newBtn);
            
            console.log("ğŸ†• ë™ì  ë²„íŠ¼ ìƒì„±ë¨ (ì´ë²¤íŠ¸ ìœ„ì„ìœ¼ë¡œ ìë™ ì²˜ë¦¬)");
        }
        
        // ë™ì  ë²„íŠ¼ ìƒì„± ë²„íŠ¼ ì¶”ê°€
        const createBtn = document.createElement('button');
        createBtn.textContent = 'ë™ì  ë²„íŠ¼ ìƒì„±';
        createBtn.className = 'demo-button';
        createBtn.addEventListener('click', createDynamicButton);
        demoArea.appendChild(createBtn);
        
        // 5ï¸âƒ£ ì‹¤ë¬´ì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ë“¤
        
        // ë””ë°”ìš´ì‹± (Debouncing): ì—°ì†ëœ ì´ë²¤íŠ¸ ì¤‘ ë§ˆì§€ë§‰ ê²ƒë§Œ ì²˜ë¦¬
        // ê²€ìƒ‰ ìë™ì™„ì„±, API í˜¸ì¶œ ìµœì í™”ì— í•„ìˆ˜
        let debounceTimer;
        demoInput.addEventListener('input', function(event) {
            clearTimeout(debounceTimer);
            
            debounceTimer = setTimeout(() => {
                console.log("ğŸ” ë””ë°”ìš´ì‹±ëœ ê²€ìƒ‰:", event.target.value);
                // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ API í˜¸ì¶œ
            }, 300); // 300ms ëŒ€ê¸° í›„ ì‹¤í–‰
        });
        
        // ì“°ë¡œí‹€ë§ (Throttling): ì¼ì • ê°„ê²©ìœ¼ë¡œë§Œ ì´ë²¤íŠ¸ ì²˜ë¦¬
        // ìŠ¤í¬ë¡¤, ë¦¬ì‚¬ì´ì¦ˆ ì´ë²¤íŠ¸ ì„±ëŠ¥ ìµœì í™”ì— ì‚¬ìš©
        let throttleTimer = false;
        window.addEventListener('scroll', function(event) {
            if (!throttleTimer) {
                setTimeout(() => {
                    console.log("ğŸ“œ ì“°ë¡œí‹€ë§ëœ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸");
                    throttleTimer = false;
                }, 100); // 100msë§ˆë‹¤ í•œ ë²ˆì”©ë§Œ ì‹¤í–‰
                throttleTimer = true;
            }
        });
        
        // ğŸ’¡ ì‹¤ë¬´ í™œìš© íŒ
        console.log("ğŸ’¡ addEventListener ì‹¤ë¬´ íŒ:");
        console.log("â€¢ ì—¬ëŸ¬ í•¸ë“¤ëŸ¬ ë“±ë¡ ì‹œ ë°˜ë“œì‹œ addEventListener ì‚¬ìš©");
        console.log("â€¢ ì´ë²¤íŠ¸ ìœ„ì„ìœ¼ë¡œ ë™ì  ìš”ì†Œ ì²˜ë¦¬");
        console.log("â€¢ ë””ë°”ìš´ì‹±/ì“°ë¡œí‹€ë§ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”");
        console.log("â€¢ { once: true } ì˜µì…˜ìœ¼ë¡œ ì¼íšŒì„± ì´ë²¤íŠ¸ ì²˜ë¦¬");
        console.log("â€¢ removeEventListenerë¡œ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€");
        
        alert("ì½˜ì†”ì„ í™•ì¸í•˜ê³  ë²„íŠ¼ì„ ì—¬ëŸ¬ ë²ˆ í´ë¦­í•´ë³´ì„¸ìš”!");
    }
    
    function eventObject() {
        console.log("=== ì´ë²¤íŠ¸ ê°ì²´ í™œìš©í•˜ê¸° ===");
        
        // ğŸ” ì´ë²¤íŠ¸ ê°ì²´ (Event Object)
        // ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê°ì²´
        // ì´ë²¤íŠ¸ì— ëŒ€í•œ ëª¨ë“  ì •ë³´ë¥¼ ë‹´ê³  ìˆìŒ (íƒ€ì…, ëŒ€ìƒ, ìœ„ì¹˜, í‚¤ ë“±)
        // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬ë¨
        
        const demoBtn = document.getElementById('demo-btn');
        const demoBox = document.getElementById('demo-box');
        
        // 1ï¸âƒ£ ì´ë²¤íŠ¸ ê°ì²´ì˜ ì£¼ìš” ì†ì„±ë“¤
        demoBtn.addEventListener('click', function(event) {
            console.log("=== í´ë¦­ ì´ë²¤íŠ¸ ê°ì²´ ë¶„ì„ ===");
            console.log("ì´ë²¤íŠ¸ íƒ€ì…:", event.type); // "click"
            console.log("í´ë¦­ëœ ìš”ì†Œ:", event.target); // ì‹¤ì œ í´ë¦­ëœ ìš”ì†Œ
            console.log("ì´ë²¤íŠ¸ê°€ ë“±ë¡ëœ ìš”ì†Œ:", event.currentTarget); // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ë“±ë¡ëœ ìš”ì†Œ
            console.log("ë§ˆìš°ìŠ¤ X ì¢Œí‘œ:", event.clientX); // ë·°í¬íŠ¸ ê¸°ì¤€ X ì¢Œí‘œ
            console.log("ë§ˆìš°ìŠ¤ Y ì¢Œí‘œ:", event.clientY); // ë·°í¬íŠ¸ ê¸°ì¤€ Y ì¢Œí‘œ
            console.log("í˜ì´ì§€ X ì¢Œí‘œ:", event.pageX); // í˜ì´ì§€ ì „ì²´ ê¸°ì¤€ X ì¢Œí‘œ
            console.log("í˜ì´ì§€ Y ì¢Œí‘œ:", event.pageY); // í˜ì´ì§€ ì „ì²´ ê¸°ì¤€ Y ì¢Œí‘œ
            console.log("íƒ€ì„ìŠ¤íƒ¬í”„:", event.timeStamp); // ì´ë²¤íŠ¸ ë°œìƒ ì‹œê°„
        });
        
        // 2ï¸âƒ£ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ìƒì„¸ ì •ë³´
        demoBox.addEventListener('mousedown', function(event) {
            console.log("=== ë§ˆìš°ìŠ¤ ë‹¤ìš´ ì´ë²¤íŠ¸ ===");
            console.log("ëˆŒë¦° ë²„íŠ¼:", event.button); // 0: ì™¼ìª½, 1: íœ , 2: ì˜¤ë¥¸ìª½
            console.log("Ctrl í‚¤ ëˆŒë¦¼:", event.ctrlKey);
            console.log("Shift í‚¤ ëˆŒë¦¼:", event.shiftKey);
            console.log("Alt í‚¤ ëˆŒë¦¼:", event.altKey);
            
            // ë§ˆìš°ìŠ¤ ìœ„ì¹˜ì— ë”°ë¥¸ ë™ì  ìŠ¤íƒ€ì¼ë§
            const x = event.offsetX; // ìš”ì†Œ ë‚´ë¶€ ê¸°ì¤€ X ì¢Œí‘œ
            const y = event.offsetY; // ìš”ì†Œ ë‚´ë¶€ ê¸°ì¤€ Y ì¢Œí‘œ
            
            event.target.style.background = `radial-gradient(circle at ${x}px ${y}px, #ff6b6b, #f0f0f0)`;
        });
        
        demoBox.addEventListener('mouseup', function(event) {
            event.target.style.background = "#f0f0f0"; // ì›ìƒë³µêµ¬
        });
        
        // 3ï¸âƒ£ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ìƒì„¸ ì •ë³´
        const demoInput = document.getElementById('demo-input');
        
        demoInput.addEventListener('keydown', function(event) {
            console.log("=== í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ===");
            console.log("ëˆŒë¦° í‚¤:", event.key); // ì‹¤ì œ í‚¤ ê°’ ("a", "Enter", "ArrowUp" ë“±)
            console.log("í‚¤ ì½”ë“œ:", event.code); // ë¬¼ë¦¬ì  í‚¤ ìœ„ì¹˜ ("KeyA", "Enter", "ArrowUp" ë“±)
            console.log("í‚¤ ì½”ë“œ (ë ˆê±°ì‹œ):", event.keyCode); // ìˆ«ì ì½”ë“œ (ê¶Œì¥í•˜ì§€ ì•ŠìŒ)
            
            // íŠ¹ìˆ˜ í‚¤ ì¡°í•© ì²˜ë¦¬
            if (event.ctrlKey && event.key === 's') {
                event.preventDefault(); // ë¸Œë¼ìš°ì € ê¸°ë³¸ ì €ì¥ ë™ì‘ ë°©ì§€
                console.log("ğŸ’¾ Ctrl+S ê°ì§€ - ì»¤ìŠ¤í…€ ì €ì¥ ë¡œì§ ì‹¤í–‰");
            }
            
            if (event.key === 'F1') {
                event.preventDefault(); // F1 ë„ì›€ë§ ë°©ì§€
                console.log("â“ F1 ê°ì§€ - ì»¤ìŠ¤í…€ ë„ì›€ë§ í‘œì‹œ");
            }
        });
        
        // 4ï¸âƒ£ ì´ë²¤íŠ¸ ì „íŒŒ ì œì–´
        
        // ë²„ë¸”ë§ ì‹œì—°ì„ ìœ„í•œ ì¤‘ì²© ìš”ì†Œ ìƒì„±
        const outerDiv = document.createElement('div');
        outerDiv.style.cssText = 'padding: 20px; background: lightblue; margin: 10px;';
        outerDiv.textContent = 'ì™¸ë¶€ ì˜ì—­ (í´ë¦­í•´ë³´ì„¸ìš”)';
        
        const innerDiv = document.createElement('div');
        innerDiv.style.cssText = 'padding: 20px; background: lightcoral; margin: 10px;';
        innerDiv.textContent = 'ë‚´ë¶€ ì˜ì—­ (í´ë¦­í•´ë³´ì„¸ìš”)';
        
        outerDiv.appendChild(innerDiv);
        document.getElementById('demo-area').appendChild(outerDiv);
        
        // ë²„ë¸”ë§ ì‹œì—°: ë‚´ë¶€ ìš”ì†Œ í´ë¦­ ì‹œ ì™¸ë¶€ ìš”ì†Œ ì´ë²¤íŠ¸ë„ ë°œìƒ
        outerDiv.addEventListener('click', function(event) {
            console.log("ğŸ”µ ì™¸ë¶€ ì˜ì—­ í´ë¦­ë¨");
        });
        
        innerDiv.addEventListener('click', function(event) {
            console.log("ğŸ”´ ë‚´ë¶€ ì˜ì—­ í´ë¦­ë¨");
            
            // event.stopPropagation()ìœ¼ë¡œ ë²„ë¸”ë§ ì¤‘ë‹¨ ê°€ëŠ¥
            // event.stopPropagation(); // ì£¼ì„ í•´ì œí•˜ë©´ ì™¸ë¶€ ì˜ì—­ ì´ë²¤íŠ¸ ë°œìƒ ì•ˆí•¨
        });
        
        // 5ï¸âƒ£ ê¸°ë³¸ ë™ì‘ ë°©ì§€ (preventDefault)
        
        // í¼ ì œì¶œ ë°©ì§€ ì˜ˆì œ
        const demoForm = document.getElementById('demo-form');
        
        demoForm.addEventListener('submit', function(event) {
            console.log("=== í¼ ì œì¶œ ì´ë²¤íŠ¸ ===");
            
            const nameInput = document.getElementById('name-input');
            const emailInput = document.getElementById('email-input');
            
            // ê°„ë‹¨í•œ ìœ íš¨ì„± ê²€ì‚¬
            if (nameInput.value.length < 2) {
                console.log("âŒ ì´ë¦„ì´ ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤");
                event.preventDefault(); // í¼ ì œì¶œ ì¤‘ë‹¨
                nameInput.focus();
                return;
            }
            
            if (!emailInput.value.includes('@')) {
                console.log("âŒ ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ì…ë‹ˆë‹¤");
                event.preventDefault(); // í¼ ì œì¶œ ì¤‘ë‹¨
                emailInput.focus();
                return;
            }
            
            console.log("âœ… ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼");
            // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ Ajaxë¡œ ì„œë²„ì— ì „ì†¡
            event.preventDefault(); // ë°ëª¨ì´ë¯€ë¡œ ì‹¤ì œ ì œì¶œì€ ë§‰ìŒ
            console.log("ğŸ“¤ Ajaxë¡œ ì„œë²„ì— ì „ì†¡í•  ë°ì´í„°:", {
                name: nameInput.value,
                email: emailInput.value
            });
        });
        
        // 6ï¸âƒ£ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±ê³¼ ë°œìƒ
        // ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹ ì´ë‚˜ ëª¨ë“ˆ ê°„ ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ” ë° ìœ ìš©
        
        function createCustomEvent() {
            // ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ìƒì„±
            const customEvent = new CustomEvent('userAction', {
                detail: {
                    action: 'buttonClick',
                    timestamp: Date.now(),
                    user: 'testUser'
                },
                bubbles: true // ë²„ë¸”ë§ í—ˆìš©
            });
            
            // ì´ë²¤íŠ¸ ë°œìƒ
            demoBtn.dispatchEvent(customEvent);
        }
        
        // ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        demoBtn.addEventListener('userAction', function(event) {
            console.log("ğŸ¨ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ê°ì§€:", event.detail);
        });
        
        // ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸ ë²„íŠ¼
        const customEventBtn = document.createElement('button');
        customEventBtn.textContent = 'ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë°œìƒ';
        customEventBtn.className = 'demo-button';
        customEventBtn.addEventListener('click', createCustomEvent);
        document.getElementById('demo-area').appendChild(customEventBtn);
        
        // ğŸ’¡ ì´ë²¤íŠ¸ ê°ì²´ í™œìš© íŒ
        console.log("ğŸ’¡ ì´ë²¤íŠ¸ ê°ì²´ í™œìš© íŒ:");
        console.log("â€¢ event.target vs event.currentTarget êµ¬ë¶„í•˜ê¸°");
        console.log("â€¢ preventDefault()ë¡œ ê¸°ë³¸ ë™ì‘ ì œì–´");
        console.log("â€¢ stopPropagation()ìœ¼ë¡œ ì´ë²¤íŠ¸ ì „íŒŒ ì œì–´");
        console.log("â€¢ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ëŠ” event.key ì‚¬ìš© (keyCodeëŠ” ë ˆê±°ì‹œ)");
        console.log("â€¢ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¡œ ì»´í¬ë„ŒíŠ¸ ê°„ í†µì‹  êµ¬í˜„");
        
        alert("ì½˜ì†”ì„ í™•ì¸í•˜ê³  ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼œë³´ì„¸ìš”!");
    }
    
    function formEvents() {
        console.log("=== í¼ ì´ë²¤íŠ¸ ì™„ì „ ì •ë³µ ===");
        
        // ğŸ” í¼ ì´ë²¤íŠ¸ì˜ ì¤‘ìš”ì„±
        // ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì‚¬ìš©ì ì…ë ¥ì„ ë°›ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ë°©ë²•
        // Spring Controllerë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ì „ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ê²€ì¦ í•„ìˆ˜
        // ì‚¬ìš©ì ê²½í—˜(UX) í–¥ìƒì˜ í•µì‹¬
        
        // ë°ëª¨ìš© í¼ ìš”ì†Œë“¤ ê°€ì ¸ì˜¤ê¸°
        const demoForm = document.getElementById('demo-form');
        const nameInput = document.getElementById('name-input');
        const emailInput = document.getElementById('email-input');
        
        // 1ï¸âƒ£ ì…ë ¥ ê´€ë ¨ ì´ë²¤íŠ¸ë“¤
        
        // input: ì‹¤ì‹œê°„ ì…ë ¥ ê°ì§€ (ê°€ì¥ ë§ì´ ì‚¬ìš©)
        nameInput.addEventListener('input', function(event) {
            const value = event.target.value;
            console.log("ğŸ“ ì´ë¦„ ì…ë ¥ ì¤‘:", value);
            
            // ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬
            if (value.length === 0) {
                event.target.style.borderColor = "#ccc";
            } else if (value.length < 2) {
                event.target.style.borderColor = "orange";
                console.log("âš ï¸ ì´ë¦„ì´ ë„ˆë¬´ ì§§ìŠµë‹ˆë‹¤");
            } else {
                event.target.style.borderColor = "green";
                console.log("âœ… ìœ íš¨í•œ ì´ë¦„ì…ë‹ˆë‹¤");
            }
        });
        
        // change: ê°’ì´ ë³€ê²½ë˜ê³  í¬ì»¤ìŠ¤ê°€ ë²—ì–´ë‚  ë•Œ
        emailInput.addEventListener('change', function(event) {
            const email = event.target.value;
            console.log("ğŸ“§ ì´ë©”ì¼ ë³€ê²½ë¨:", email);
            
            // ì´ë©”ì¼ í˜•ì‹ ê²€ì¦ (ê°„ë‹¨í•œ ì •ê·œì‹)
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (emailPattern.test(email)) {
                event.target.style.borderColor = "green";
                console.log("âœ… ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹");
            } else {
                event.target.style.borderColor = "red";
                console.log("âŒ ìœ íš¨í•˜ì§€ ì•Šì€ ì´ë©”ì¼ í˜•ì‹");
            }
        });
        
        // focus/blur: í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸ë¡œ ì‚¬ìš©ì ê°€ì´ë“œ
        nameInput.addEventListener('focus', function(event) {
            console.log("ğŸ‘† ì´ë¦„ í•„ë“œì— í¬ì»¤ìŠ¤");
            
            // ë„ì›€ë§ í‘œì‹œ
            let helpText = document.getElementById('name-help');
            if (!helpText) {
                helpText = document.createElement('small');
                helpText.id = 'name-help';
                helpText.style.color = '#666';
                helpText.textContent = '2ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”';
                event.target.parentNode.insertBefore(helpText, event.target.nextSibling);
            }
        });
        
        nameInput.addEventListener('blur', function(event) {
            console.log("ğŸ‘‹ ì´ë¦„ í•„ë“œì—ì„œ í¬ì»¤ìŠ¤ í•´ì œ");
            
            // ë„ì›€ë§ ì œê±°
            const helpText = document.getElementById('name-help');
            if (helpText) {
                helpText.remove();
            }
        });
        
        // 2ï¸âƒ£ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ë¡œ UX í–¥ìƒ
        
        // Enter í‚¤ë¡œ ë‹¤ìŒ í•„ë“œë¡œ ì´ë™
        nameInput.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault(); // í¼ ì œì¶œ ë°©ì§€
                emailInput.focus(); // ë‹¤ìŒ í•„ë“œë¡œ í¬ì»¤ìŠ¤ ì´ë™
                console.log("â­ï¸ Enterë¡œ ë‹¤ìŒ í•„ë“œ ì´ë™");
            }
        });
        
        // Tab í‚¤ ë™ì‘ ì»¤ìŠ¤í„°ë§ˆì´ì§• (í•„ìš”í•œ ê²½ìš°)
        emailInput.addEventListener('keydown', function(event) {
            if (event.key === 'Tab' && !event.shiftKey) {
                // Tab í‚¤ë¡œ ì œì¶œ ë²„íŠ¼ìœ¼ë¡œ ì´ë™í•˜ëŠ” ëŒ€ì‹  ì»¤ìŠ¤í…€ ë™ì‘
                console.log("ğŸ“‹ Tabìœ¼ë¡œ í¼ ë„¤ë¹„ê²Œì´ì…˜");
            }
        });
        
        // 3ï¸âƒ£ í¼ ì œì¶œ ì´ë²¤íŠ¸ ê³ ê¸‰ ì²˜ë¦¬
        demoForm.addEventListener('submit', function(event) {
            console.log("=== í¼ ì œì¶œ ì´ë²¤íŠ¸ ì²˜ë¦¬ ===");
            
            // ê¸°ë³¸ ì œì¶œ ë™ì‘ ë°©ì§€ (Ajaxë¡œ ì²˜ë¦¬í•˜ê¸° ìœ„í•¨)
            event.preventDefault();
            
            // í¼ ë°ì´í„° ìˆ˜ì§‘
            const formData = new FormData(event.target);
            const data = {
                name: formData.get('name') || nameInput.value,
                email: formData.get('email') || emailInput.value
            };
            
            console.log("ğŸ“¤ ìˆ˜ì§‘ëœ í¼ ë°ì´í„°:", data);
            
            // ì¢…í•© ìœ íš¨ì„± ê²€ì‚¬
            const validation = validateFormData(data);
            
            if (!validation.isValid) {
                console.log("âŒ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨:", validation.errors);
                displayValidationErrors(validation.errors);
                return;
            }
            
            // ì„±ê³µ ì‹œ ì²˜ë¦¬
            console.log("âœ… ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼ - ì„œë²„ë¡œ ì „ì†¡ ì¤€ë¹„");
            simulateFormSubmission(data);
        });
        
        // 4ï¸âƒ£ ìœ íš¨ì„± ê²€ì‚¬ í•¨ìˆ˜
        function validateFormData(data) {
            const errors = [];
            
            // ì´ë¦„ ê²€ì¦
            if (!data.name || data.name.trim().length < 2) {
                errors.push({ field: 'name', message: 'ì´ë¦„ì€ 2ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”' });
            }
            
            if (data.name && data.name.length > 50) {
                errors.push({ field: 'name', message: 'ì´ë¦„ì€ 50ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”' });
            }
            
            // ì´ë©”ì¼ ê²€ì¦
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!data.email) {
                errors.push({ field: 'email', message: 'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”' });
            } else if (!emailPattern.test(data.email)) {
                errors.push({ field: 'email', message: 'ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤' });
            }
            
            return {
                isValid: errors.length === 0,
                errors: errors
            };
        }
        
        // 5ï¸âƒ£ ì—ëŸ¬ í‘œì‹œ í•¨ìˆ˜
        function displayValidationErrors(errors) {
            // ê¸°ì¡´ ì—ëŸ¬ ë©”ì‹œì§€ ì œê±°
            document.querySelectorAll('.error-message').forEach(el => el.remove());
            
            errors.forEach(error => {
                const field = document.getElementById(`${error.field}-input`);
                if (field) {
                    // í•„ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½
                    field.style.borderColor = 'red';
                    
                    // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
                    const errorEl = document.createElement('div');
                    errorEl.className = 'error-message';
                    errorEl.style.cssText = 'color: red; font-size: 12px; margin-top: 2px;';
                    errorEl.textContent = error.message;
                    
                    field.parentNode.insertBefore(errorEl, field.nextSibling);
                }
            });
        }
        
        // 6ï¸âƒ£ í¼ ì œì¶œ ì‹œë®¬ë ˆì´ì…˜
        function simulateFormSubmission(data) {
            console.log("ğŸš€ ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡ ì‹œë®¬ë ˆì´ì…˜");
            
            // ë¡œë”© ìƒíƒœ í‘œì‹œ
            const submitBtn = demoForm.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'ì „ì†¡ ì¤‘...';
            submitBtn.disabled = true;
            
            // ì„œë²„ ìš”ì²­ ì‹œë®¬ë ˆì´ì…˜ (2ì´ˆ ëŒ€ê¸°)
            setTimeout(() => {
                console.log("âœ… ì„œë²„ ì‘ë‹µ ì„±ê³µ");
                
                // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                showSuccessMessage('ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
                
                // í¼ ì´ˆê¸°í™”
                demoForm.reset();
                
                // ë²„íŠ¼ ì›ìƒë³µêµ¬
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
                
                // í•„ë“œ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™”
                nameInput.style.borderColor = '#ccc';
                emailInput.style.borderColor = '#ccc';
                
            }, 2000);
        }
        
        // 7ï¸âƒ£ ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
        function showSuccessMessage(message) {
            const successEl = document.createElement('div');
            successEl.style.cssText = `
                background: #d4edda;
                color: #155724;
                padding: 10px;
                border: 1px solid #c3e6cb;
                border-radius: 4px;
                margin: 10px 0;
            `;
            successEl.textContent = message;
            
            demoForm.parentNode.insertBefore(successEl, demoForm);
            
            // 3ì´ˆ í›„ ìë™ ì œê±°
            setTimeout(() => {
                successEl.remove();
            }, 3000);
        }
        
        // 8ï¸âƒ£ ì‹¤ì‹œê°„ ë¬¸ì ì¹´ìš´í„°
        function addCharacterCounter() {
            const counter = document.createElement('div');
            counter.id = 'char-counter';
            counter.style.cssText = 'font-size: 12px; color: #666; margin-top: 2px;';
            nameInput.parentNode.insertBefore(counter, nameInput.nextSibling);
            
            nameInput.addEventListener('input', function(event) {
                const length = event.target.value.length;
                const maxLength = 50;
                counter.textContent = `${length}/${maxLength}ì`;
                
                if (length > maxLength * 0.8) {
                    counter.style.color = 'orange';
                } else {
                    counter.style.color = '#666';
                }
            });
        }
        
        addCharacterCounter();
        
        // ğŸ’¡ í¼ ì´ë²¤íŠ¸ ì‹¤ë¬´ íŒ
        console.log("ğŸ’¡ í¼ ì´ë²¤íŠ¸ ì‹¤ë¬´ íŒ:");
        console.log("â€¢ input ì´ë²¤íŠ¸ë¡œ ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬");
        console.log("â€¢ submit ì´ë²¤íŠ¸ì—ì„œ preventDefault() í›„ Ajax ì²˜ë¦¬");
        console.log("â€¢ FormData APIë¡œ ê°„í¸í•œ ë°ì´í„° ìˆ˜ì§‘");
        console.log("â€¢ ë¡œë”© ìƒíƒœì™€ ì—ëŸ¬ ë©”ì‹œì§€ë¡œ UX í–¥ìƒ");
        console.log("â€¢ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ë¡œ ì ‘ê·¼ì„± ê°œì„ ");
        
        alert("ì½˜ì†”ì„ í™•ì¸í•˜ê³  í¼ì— ë°ì´í„°ë¥¼ ì…ë ¥í•´ë³´ì„¸ìš”!");
    }
    
    function springFormExample() {
        console.log("=== Spring í¼ ì—°ë™ ì‹¤ë¬´ ì˜ˆì œ ===");
        
        // ğŸŒ± Spring Boot Controllerì™€ ì—°ë™í•˜ëŠ” ì‹¤ì œ í¼ ì²˜ë¦¬ íŒ¨í„´
        // @PostMapping, @RequestBody, @Valid ë“±ê³¼ ì—°ê³„ë˜ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ
        
        // ì‹¤ë¬´ìš© íšŒì›ê°€ì… í¼ ìƒì„±
        const signupFormHtml = `
            <div style="border: 1px solid #ddd; padding: 20px; margin: 20px 0; border-radius: 8px;">
                <h4>ğŸŒ± Spring ì—°ë™ íšŒì›ê°€ì… í¼</h4>
                <form id="spring-signup-form">
                    <div style="margin-bottom: 15px;">
                        <label>ì´ë¦„ *</label><br>
                        <input type="text" name="name" id="signup-name" required 
                               style="width: 200px; padding: 8px; border: 1px solid #ccc;">
                        <div id="name-validation" class="validation-message"></div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label>ì´ë©”ì¼ *</label><br>
                        <input type="email" name="email" id="signup-email" required
                               style="width: 200px; padding: 8px; border: 1px solid #ccc;">
                        <div id="email-validation" class="validation-message"></div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label>ë¹„ë°€ë²ˆí˜¸ *</label><br>
                        <input type="password" name="password" id="signup-password" required
                               style="width: 200px; padding: 8px; border: 1px solid #ccc;">
                        <div id="password-validation" class="validation-message"></div>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label>ì „í™”ë²ˆí˜¸</label><br>
                        <input type="tel" name="phone" id="signup-phone"
                               style="width: 200px; padding: 8px; border: 1px solid #ccc;">
                    </div>
                    
                    <button type="submit" style="padding: 10px 20px; background: #28a745; color: white; border: none; cursor: pointer;">
                        íšŒì›ê°€ì…
                    </button>
                </form>
            </div>
        `;
        
        // DOMì— í¼ ì¶”ê°€
        document.getElementById('demo-area').insertAdjacentHTML('beforeend', signupFormHtml);
        
        // 1ï¸âƒ£ Spring Validationê³¼ ì—°ë™ë˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì¸¡ ê²€ì¦
        class SpringFormValidator {
            constructor() {
                this.rules = {
                    name: [
                        { test: (value) => value && value.trim().length >= 2, message: 'ì´ë¦„ì€ 2ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”' },
                        { test: (value) => value.length <= 50, message: 'ì´ë¦„ì€ 50ì ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”' },
                        { test: (value) => /^[ê°€-í£a-zA-Z\s]+$/.test(value), message: 'ì´ë¦„ì€ í•œê¸€, ì˜ë¬¸ë§Œ ì…ë ¥ ê°€ëŠ¥í•©ë‹ˆë‹¤' }
                    ],
                    email: [
                        { test: (value) => value && value.trim().length > 0, message: 'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”' },
                        { test: (value) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value), message: 'ìœ íš¨í•œ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤' }
                    ],
                    password: [
                        { test: (value) => value && value.length >= 8, message: 'ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”' },
                        { test: (value) => /[A-Z]/.test(value), message: 'ëŒ€ë¬¸ìë¥¼ í¬í•¨í•´ì£¼ì„¸ìš”' },
                        { test: (value) => /[a-z]/.test(value), message: 'ì†Œë¬¸ìë¥¼ í¬í•¨í•´ì£¼ì„¸ìš”' },
                        { test: (value) => /[0-9]/.test(value), message: 'ìˆ«ìë¥¼ í¬í•¨í•´ì£¼ì„¸ìš”' }
                    ],
                    phone: [
                        { test: (value) => !value || /^010-\d{4}-\d{4}$/.test(value), message: '010-0000-0000 í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”' }
                    ]
                };
            }
            
            validateField(fieldName, value) {
                const rules = this.rules[fieldName] || [];
                const errors = [];
                
                rules.forEach(rule => {
                    if (!rule.test(value)) {
                        errors.push(rule.message);
                    }
                });
                
                return {
                    isValid: errors.length === 0,
                    errors: errors
                };
            }
            
            validateForm(formData) {
                const allErrors = {};
                let isValid = true;
                
                Object.keys(this.rules).forEach(fieldName => {
                    const value = formData[fieldName] || '';
                    const validation = this.validateField(fieldName, value);
                    
                    if (!validation.isValid) {
                        allErrors[fieldName] = validation.errors;
                        isValid = false;
                    }
                });
                
                return { isValid, errors: allErrors };
            }
        }
        
        // 2ï¸âƒ£ Spring API í†µì‹  í´ë˜ìŠ¤
        class SpringApiClient {
            constructor() {
                this.baseUrl = 'http://localhost:8080/api'; // Spring Boot ì„œë²„ ì£¼ì†Œ
                this.defaultHeaders = {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                };
            }
            
            async signup(userData) {
                try {
                    console.log("ğŸš€ Spring ì„œë²„ë¡œ íšŒì›ê°€ì… ìš”ì²­:", userData);
                    
                    // ì‹¤ì œ Spring Controller í˜¸ì¶œ ì‹œë®¬ë ˆì´ì…˜
                    // POST /api/users/signup
                    const response = await this.simulateSpringRequest('/users/signup', {
                        method: 'POST',
                        headers: this.defaultHeaders,
                        body: JSON.stringify(userData)
                    });
                    
                    return response;
                    
                } catch (error) {
                    console.error("âŒ íšŒì›ê°€ì… ìš”ì²­ ì‹¤íŒ¨:", error);
                    throw error;
                }
            }
            
            async checkEmailDuplicate(email) {
                try {
                    console.log("ğŸ“§ ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸:", email);
                    
                    // GET /api/users/check-email?email=test@example.com
                    const response = await this.simulateSpringRequest(`/users/check-email?email=${email}`);
                    return response;
                    
                } catch (error) {
                    console.error("âŒ ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸ ì‹¤íŒ¨:", error);
                    throw error;
                }
            }
            
            // Spring ì„œë²„ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜
            async simulateSpringRequest(endpoint, options = {}) {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        // ì„±ê³µ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜
                        if (Math.random() > 0.2) { // 80% ì„±ê³µë¥ 
                            if (endpoint.includes('check-email')) {
                                resolve({
                                    available: Math.random() > 0.3, // 70% í™•ë¥ ë¡œ ì‚¬ìš© ê°€ëŠ¥
                                    message: 'ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸ ì™„ë£Œ'
                                });
                            } else {
                                resolve({
                                    success: true,
                                    message: 'íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤',
                                    userId: Date.now()
                                });
                            }
                        } else {
                            // ì—ëŸ¬ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜ (Springì˜ @ExceptionHandler ì‘ë‹µ í˜•ì‹)
                            reject({
                                status: 400,
                                error: 'Bad Request',
                                message: 'ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨',
                                fieldErrors: {
                                    email: ['ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤']
                                }
                            });
                        }
                    }, 1000 + Math.random() * 1000); // 1-2ì´ˆ ëŒ€ê¸°
                });
            }
        }
        
        // 3ï¸âƒ£ í¼ í•¸ë“¤ëŸ¬ ì„¤ì •
        const springForm = document.getElementById('spring-signup-form');
        const validator = new SpringFormValidator();
        const apiClient = new SpringApiClient();
        
        // ì‹¤ì‹œê°„ ìœ íš¨ì„± ê²€ì‚¬
        ['name', 'email', 'password', 'phone'].forEach(fieldName => {
            const field = document.getElementById(`signup-${fieldName}`);
            const validationEl = document.getElementById(`${fieldName}-validation`);
            
            field.addEventListener('input', function(event) {
                const value = event.target.value;
                const validation = validator.validateField(fieldName, value);
                
                updateValidationUI(field, validationEl, validation);
            });
            
            // ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸ (blur ì´ë²¤íŠ¸ ì‚¬ìš©)
            if (fieldName === 'email') {
                field.addEventListener('blur', async function(event) {
                    const email = event.target.value;
                    if (email && /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                        try {
                            validationEl.textContent = 'ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸ ì¤‘...';
                            validationEl.style.color = 'orange';
                            
                            const result = await apiClient.checkEmailDuplicate(email);
                            
                            if (result.available) {
                                validationEl.textContent = 'âœ… ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë©”ì¼ì…ë‹ˆë‹¤';
                                validationEl.style.color = 'green';
                                field.style.borderColor = 'green';
                            } else {
                                validationEl.textContent = 'âŒ ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì´ë©”ì¼ì…ë‹ˆë‹¤';
                                validationEl.style.color = 'red';
                                field.style.borderColor = 'red';
                            }
                        } catch (error) {
                            validationEl.textContent = 'âš ï¸ ì´ë©”ì¼ í™•ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤';
                            validationEl.style.color = 'orange';
                        }
                    }
                });
            }
        });
        
        // 4ï¸âƒ£ ìœ íš¨ì„± ê²€ì‚¬ UI ì—…ë°ì´íŠ¸
        function updateValidationUI(field, validationEl, validation) {
            if (validation.isValid) {
                field.style.borderColor = 'green';
                validationEl.textContent = '';
            } else {
                field.style.borderColor = 'red';
                validationEl.textContent = validation.errors[0]; // ì²« ë²ˆì§¸ ì—ëŸ¬ë§Œ í‘œì‹œ
                validationEl.style.color = 'red';
            }
        }
        
        // 5ï¸âƒ£ í¼ ì œì¶œ ì²˜ë¦¬
        springForm.addEventListener('submit', async function(event) {
            event.preventDefault();
            
            console.log("=== Spring í¼ ì œì¶œ ì²˜ë¦¬ ===");
            
            // í¼ ë°ì´í„° ìˆ˜ì§‘
            const formData = new FormData(event.target);
            const userData = {
                name: formData.get('name').trim(),
                email: formData.get('email').trim(),
                password: formData.get('password'),
                phone: formData.get('phone').trim()
            };
            
            console.log("ğŸ“ ìˆ˜ì§‘ëœ ì‚¬ìš©ì ë°ì´í„°:", { ...userData, password: '[HIDDEN]' });
            
            // ì „ì²´ í¼ ìœ íš¨ì„± ê²€ì‚¬
            const validation = validator.validateForm(userData);
            
            if (!validation.isValid) {
                console.log("âŒ í´ë¼ì´ì–¸íŠ¸ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨:", validation.errors);
                displayFormErrors(validation.errors);
                return;
            }
            
            // ì œì¶œ ë²„íŠ¼ ë¡œë”© ìƒíƒœ
            const submitBtn = event.target.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = 'ì²˜ë¦¬ ì¤‘...';
            submitBtn.disabled = true;
            
            try {
                // Spring ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡
                const result = await apiClient.signup(userData);
                
                console.log("âœ… íšŒì›ê°€ì… ì„±ê³µ:", result);
                
                // ì„±ê³µ ì²˜ë¦¬
                showSuccessMessage('ğŸ‰ íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
                springForm.reset();
                clearValidationMessages();
                
            } catch (error) {
                console.log("âŒ íšŒì›ê°€ì… ì‹¤íŒ¨:", error);
                
                // Spring ì„œë²„ ì—ëŸ¬ ì²˜ë¦¬
                if (error.fieldErrors) {
                    displayFormErrors(error.fieldErrors);
                } else {
                    showErrorMessage(error.message || 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤');
                }
                
            } finally {
                // ë²„íŠ¼ ì›ìƒë³µêµ¬
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });
        
        // 6ï¸âƒ£ ì—ëŸ¬ í‘œì‹œ í•¨ìˆ˜ë“¤
        function displayFormErrors(errors) {
            Object.keys(errors).forEach(fieldName => {
                const field = document.getElementById(`signup-${fieldName}`);
                const validationEl = document.getElementById(`${fieldName}-validation`);
                
                if (field && validationEl) {
                    field.style.borderColor = 'red';
                    validationEl.textContent = Array.isArray(errors[fieldName]) 
                        ? errors[fieldName][0] 
                        : errors[fieldName];
                    validationEl.style.color = 'red';
                }
            });
        }
        
        function clearValidationMessages() {
            ['name', 'email', 'password', 'phone'].forEach(fieldName => {
                const field = document.getElementById(`signup-${fieldName}`);
                const validationEl = document.getElementById(`${fieldName}-validation`);
                
                if (field && validationEl) {
                    field.style.borderColor = '#ccc';
                    validationEl.textContent = '';
                }
            });
        }
        
        function showSuccessMessage(message) {
            const messageEl = document.createElement('div');
            messageEl.style.cssText = `
                background: #d4edda; color: #155724; padding: 15px;
                border: 1px solid #c3e6cb; border-radius: 4px; margin: 10px 0;
            `;
            messageEl.textContent = message;
            
            springForm.parentNode.insertBefore(messageEl, springForm);
            
            setTimeout(() => messageEl.remove(), 5000);
        }
        
        function showErrorMessage(message) {
            const messageEl = document.createElement('div');
            messageEl.style.cssText = `
                background: #f8d7da; color: #721c24; padding: 15px;
                border: 1px solid #f5c6cb; border-radius: 4px; margin: 10px 0;
            `;
            messageEl.textContent = message;
            
            springForm.parentNode.insertBefore(messageEl, springForm);
            
            setTimeout(() => messageEl.remove(), 5000);
        }
        
        // ğŸ’¡ Spring ì—°ë™ ì‹¤ë¬´ íŒ
        console.log("ğŸ’¡ Spring í¼ ì—°ë™ ì‹¤ë¬´ íŒ:");
        console.log("â€¢ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ì–‘ìª½ì—ì„œ ìœ íš¨ì„± ê²€ì‚¬ í•„ìˆ˜");
        console.log("â€¢ Spring @Validì™€ ì¼ì¹˜í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ê²€ì¦ ê·œì¹™");
        console.log("â€¢ ì„œë²„ ì—ëŸ¬ëŠ” fieldErrors í˜•íƒœë¡œ ì²˜ë¦¬");
        console.log("â€¢ ë¡œë”© ìƒíƒœì™€ í”¼ë“œë°±ìœ¼ë¡œ UX í–¥ìƒ");
        console.log("â€¢ ì´ë©”ì¼ ì¤‘ë³µ í™•ì¸ ë“± ì‹¤ì‹œê°„ ê²€ì¦ êµ¬í˜„");
        console.log("â€¢ CSRF í† í° ì²˜ë¦¬ (ì‹¤ì œ í™˜ê²½ì—ì„œ í•„ìš”)");
        
        alert("ì½˜ì†”ì„ í™•ì¸í•˜ê³  Spring ì—°ë™ íšŒì›ê°€ì… í¼ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”!");
    }
</script>
</body>
</html>